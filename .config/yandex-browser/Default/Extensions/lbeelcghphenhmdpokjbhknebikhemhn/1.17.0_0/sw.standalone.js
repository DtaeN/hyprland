(()=>{var t={92275:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PendingError=void 0;var r=n(99075);Object.defineProperty(e,"PendingError",{enumerable:!0,get:function(){return i(r).default}})},99075:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(31213);class PendingError extends Error{constructor(){super(...arguments),this.code=i.messageCodes.pending}}e.default=PendingError},93864:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isExtendableEvent=e.waitWorkerActive=void 0;var r=n(8301);Object.defineProperty(e,"waitWorkerActive",{enumerable:!0,get:function(){return i(r).default}});var s=n(21254);Object.defineProperty(e,"isExtendableEvent",{enumerable:!0,get:function(){return i(s).default}})},21254:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"function"==typeof t.waitUntil}},8301:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=async function(t){var e,n;const i=null!==(n=null!==(e=t.active)&&void 0!==e?e:t.installing)&&void 0!==n?n:t.waiting;return"activated"===(null==i?void 0:i.state)?Promise.resolve():new Promise(((t,e)=>{if(i){const e=()=>{"activated"===i.state&&(i.removeEventListener("statechange",e),t())};i.addEventListener("statechange",e)}else e(new Error("No service worker found on waiting for activated worker"))}))}},48590:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(93864),e),r(n(52604),e),r(n(23793),e),r(n(92275),e),r(n(40680),e)},23793:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},40680:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.withLock=void 0;var r=n(2368);Object.defineProperty(e,"withLock",{enumerable:!0,get:function(){return i(r).default}})},2368:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(92275),r=new Map;e.default=function(t){return async(...e)=>{const n=r.get(t);if(null!=n)throw new i.PendingError(`${t.name} locked since ${n}`);try{r.set(t,Date.now());return await t(...e)}finally{r.delete(t)}}}},52604:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Scheduler=void 0;var o=n(60409);Object.defineProperty(e,"Scheduler",{enumerable:!0,get:function(){return s(o).default}}),r(n(14264),e)},14264:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Job=void 0,r(n(86055),e);var o=n(52331);Object.defineProperty(e,"Job",{enumerable:!0,get:function(){return s(o).default}})},86055:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},52331:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class Job{constructor(t,e){this.resolvedStore=!1,this.promise=this.waitCallback(t,e)}get resolved(){return this.resolvedStore}get ready(){return this.promise}finish(){return this.resolveTask(!0)}abort(){return this.resolveTask(!1)}resolveTask(t){return this.resolved?this.status===t:(this.resolve(t),!0)}createPromise(t){return new Promise((e=>{const n=t=>{this.resolvedStore=!0,this.status=t,e()},i=setTimeout(n,t,!0);this.resolve=t=>{clearTimeout(i),n(t)}}))}async waitCallback(t,e){await this.createPromise(e),await t(this.status)}}},60409:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(14264);e.default=class Scheduler{constructor(){this.jobs=new Map}get(t){if(null!=t)return this.jobs.get(t)}set(t,e){const{timeout:n,onEnd:r,onAbort:s}=e,o=this.get(t);o&&o.abort();const a=new i.Job((async e=>{const n=this.get(t);(null==n?void 0:n.resolved)&&this.jobs.delete(t),e?await(null==r?void 0:r()):await(null==s?void 0:s())}),n);return this.jobs.set(t,a),a}}},83473:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.API_SUP_STAGE_URL=e.API_SUP_PROD_URL=void 0,e.API_SUP_PROD_URL="https://mobile.yandex.net/psuh",e.API_SUP_STAGE_URL="https://mobile.yandex.net/psuh/priemka"},53834:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(48590),e),r(n(42678),e),r(n(64876),e),r(n(54203),e),r(n(72468),e),r(n(83141),e),r(n(83473),e)},31213:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.messageCodes=void 0,e.messageCodes={pending:"pending",error:"error"}},31385:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r=n(99559);Object.defineProperty(e,"MessageHandler",{enumerable:!0,get:function(){return i(r).default}})},99559:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(31213);e.default=class MessageHandler{constructor(t){this.handlers=new Map;const e=[...t.entries()].map((([t,e])=>/@\d+$/.test(t)?[t,e]:[`${t}@1`,e]));this.handlers=new Map(e)}register(){self.addEventListener("message",this.handle.bind(this))}handle(t){t.waitUntil(this.handleMessage(t))}async handleMessage(t){const{data:e,ports:[n]}=t;let r;const{code:s,version:o=1,data:a}=e;try{const t=this.handlers.get(`${s}@${o}`);if(!t)throw new Error(`${s} v${o} not supported`);r={code:s,version:o,data:await t(a)}}catch(u){const t=u,{name:e,message:n,stack:s}=t;r={code:t.code in i.messageCodes?t.code:i.messageCodes.error,version:1,data:{name:e,message:n,stack:s}}}finally{n.postMessage(r)}}}},24226:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.unsubscribe=e.isSubscribed=e.subscribe=e.defaultMessageHandlers=void 0;const r=n(48590),s=i(n(83510));e.subscribe=s.default;const o=i(n(43405));e.isSubscribed=o.default;const a=i(n(11939));e.unsubscribe=a.default;const u=new Map([["subscribe",(0,r.withLock)(s.default)],["is-subscribed",o.default],["unsubscribe",(0,r.withLock)(a.default)]]);e.defaultMessageHandlers=u},43405:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(72468);e.default=async function(){return null!=(await i.store.getParams(["subscription"])).get("subscription")}},83510:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(74296);e.default=async function(t){if(!(0,i.isObject)(t))throw new TypeError("Invalid data type");if(!("tags"in t)||!("id"in t))throw new TypeError("Invalid data type");const{tags:e}=t;if(!Array.isArray(e))throw new TypeError(`${String(e)} are not an array`);return(0,i.createSubscriber)(t).subscribe(e)}},11939:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(74296);e.default=async function(t){if(!(0,i.isObject)(t))throw new TypeError("Invalid data type");if(!("id"in t))throw new TypeError("Invalid data type");return(0,i.createSubscriber)(t).unsubscribe()}},42678:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(31385),e),r(n(24226),e),r(n(24713),e),r(n(31213),e)},24713:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},36777:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(83141);e.default=function(t){const{id:e,userAgent:n}=t;if(!e||"string"!=typeof e)throw new TypeError(`${e} is not a string`);if(null!=n&&"string"!=typeof n)throw new TypeError("userAgent must be a string");return new i.Subscriber(e,null!=n?n:void 0)}},74296:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=e.createSubscriber=void 0;var r=n(36777);Object.defineProperty(e,"createSubscriber",{enumerable:!0,get:function(){return i(r).default}});var s=n(23596);Object.defineProperty(e,"isObject",{enumerable:!0,get:function(){return i(s).default}})},23596:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return"object"==typeof t&&null!=t}},92427:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.NotificationHandler=void 0;var r=n(58633);Object.defineProperty(e,"NotificationHandler",{enumerable:!0,get:function(){return i(r).default}})},58633:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(42583),r=n(22153),s=n(30793);e.default=class NotificationHandler{register(){self.addEventListener("notificationclick",(t=>this.handle("click",t))),self.addEventListener("notificationclose",(t=>this.handle("close",t)))}handle(t,e){let n="";if("string"==typeof t?n=t:e=t,null==e)return;const{notification:i,action:r}=e;let s=Promise.resolve();switch(n){case"click":s=this.handleClick(i,r);break;case"close":s=this.handleClose(i)}e.waitUntil(s)}async handleClose(t){const{data:e={}}=t;await(0,s.endJobs)(e),await(new i.PushStatistics).addClosed(e).send()}async handleClick(t,e){t.close();const{data:n={}}=t;await(0,s.endJobs)(n);const o=new i.PushStatistics;let a;if(null!=e&&""!==e){const t=n.actions?(0,r.findAction)(e,n.actions):null;null!=t&&(a=t.link),o.addClickedAction(e,n)}else a=n.link,o.addClicked(n);try{null!=a&&await self.clients.openWindow(a)}finally{await o.send()}}}},15657:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findNotification=void 0,e.findNotification=async function(t){return(await self.registration.getNotifications()).find((e=>{const{data:n}=e;return Boolean(n)&&n.pushId===t}))}},64876:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(92427),e),r(n(15657),e),r(n(30793),e)},84697:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(62091);e.default=async function(t){const{tag:e,pushId:n}=t,r=i.tagScheduler.get(e),s=i.ttlScheduler.get(n),o=[];(null==r?void 0:r.finish())&&o.push(r.ready),(null==s?void 0:s.abort())&&o.push(s.ready),await Promise.allSettled(o)}},30793:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.endJobs=e.runTTLJob=e.runTagJob=void 0;var r=n(34755);Object.defineProperty(e,"runTagJob",{enumerable:!0,get:function(){return i(r).default}});var s=n(40155);Object.defineProperty(e,"runTTLJob",{enumerable:!0,get:function(){return i(s).default}});var o=n(84697);Object.defineProperty(e,"endJobs",{enumerable:!0,get:function(){return i(o).default}})},34755:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(62091);e.default=async function(t,e,{pushWithTagShowTimeout:n=1e3}={}){const{tag:r}=t;if(null==r)return void e.addShown(t);const s=i.tagScheduler.set(r,{timeout:n,onEnd:()=>{e.addShown(t)},onAbort:()=>{const n=i.ttlScheduler.get(t.pushId);n&&n.abort(),e.addIgnored("replaced-by-tag",t)}});await s.ready}},40155:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(15657),r=n(62091);e.default=async function(t,e){const{pushId:n,ttl:s=0}=t;if(null!=n&&s>0){const o=1e3*s,a=r.ttlScheduler.set(n,{timeout:o,onEnd:async()=>{const s=await(0,i.findNotification)(n);if(s){const n=r.tagScheduler.get(t.tag);n?n.finish()&&(s.close(),await n.ready,e.addExpired(t)):(s.close(),e.addExpired(t))}}});await a.ready}}},62091:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ttlScheduler=e.tagScheduler=void 0;const i=n(52604);e.tagScheduler=new i.Scheduler,e.ttlScheduler=new i.Scheduler},55564:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.SubscriptionHandler=e.PushHandler=void 0;var r=n(6591);Object.defineProperty(e,"PushHandler",{enumerable:!0,get:function(){return i(r).default}});var s=n(23674);Object.defineProperty(e,"SubscriptionHandler",{enumerable:!0,get:function(){return i(s).default}})},6591:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(42583);e.default=class PushHandler{constructor(t,e){this.strategy=t,this.validator=e}register(){self.addEventListener("push",this.handle.bind(this))}handle(t){t.waitUntil(this.handlePush(t.data))}async handlePush(t){const e=new i.PushStatistics;try{if(null==t)throw new TypeError("Invalid data format");const n=await this.validator.validate(t.json());if(null==n)throw new TypeError("Invalid push");e.addReceived({pushId:n.data.push_id}),await this.strategy.show(n,e)}catch(n){e.addIgnored("parse-error")}finally{await e.send()}}}},23674:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(48590),r=n(42583),s=n(83141),o=n(72468);e.default=class SubscriptionHandler{constructor({defaultTags:t=[]}={}){this.defaultTags=t}register(){self.addEventListener("pushsubscriptionchange",this.handle.bind(this))}handle(t){(0,i.isExtendableEvent)(t)&&t.waitUntil(this.handleSubscriptionChange(t))}async handleSubscriptionChange(t){var e;const n=new r.PushStatistics;try{const t=await o.store.getParams(["userId","userAgent","tags"]),i=t.get("userId"),r=t.get("userAgent");if("string"==typeof i&&!Array.isArray(r)){n.addSubscriptionChange(i);const o=new s.Subscriber(i,r),a=null!==(e=t.get("tags"))&&void 0!==e?e:this.defaultTags;await o.subscribe(a)}}catch(i){}finally{await n.send()}}}},87402:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findAction=e.prepareActions=void 0,e.prepareActions=function(t){const e=[];for(const n of t){const{action:t,title:i,icon:r}=n;t&&i&&e.push({action:t,title:i,icon:r})}return e},e.findAction=function(t,e){return e.find((e=>e.action===t))}},6622:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const{ttl:e,stat_id:n}=t.data,{actions:i,tag:r,link:s}=t.notification;return{pushId:t.data.push_id,actions:Array.isArray(i)?i.filter((t=>null!=t)):void 0,statId:"string"==typeof n?n:void 0,link:"string"==typeof s?s:void 0,tag:"string"==typeof r?r:void 0,ttl:Number.isFinite(e)?e:void 0}}},22153:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.isPersonalPush=e.isPublicPush=e.getNotificationData=e.storePushId=void 0,r(n(87402),e);var o=n(91655);Object.defineProperty(e,"storePushId",{enumerable:!0,get:function(){return s(o).default}});var a=n(6622);Object.defineProperty(e,"getNotificationData",{enumerable:!0,get:function(){return s(a).default}}),e.isPublicPush=function(t){return null!=t.notification},e.isPersonalPush=function(t){return null!=t.payload}},91655:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(72468);let r=null;e.default=async function(t){if(null==t)return!1;const e=await async function(){null==r&&(r=i.store.getParams(["pushIds"]),r.catch((()=>{r=null})));return r}();let n=e.get("pushIds");return Array.isArray(n)||(n=[]),!!n.includes(t)||(n.unshift(t)>50&&(n.length=50),e.set("pushIds",n),await i.store.setParams(e),!1)}},54203:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),r(n(33568),e),r(n(55564),e),r(n(42583),e),r(n(61801),e),r(n(32954),e),r(n(22153),e)},33568:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},61801:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ShowNativeNotificationStrategy=void 0,r(n(72586),e);var o=n(77368);Object.defineProperty(e,"ShowNativeNotificationStrategy",{enumerable:!0,get:function(){return s(o).default}})},72586:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},77368:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(64876),r=n(22153);e.default=class ShowNativeNotificationStrategy{constructor({forceShow:t=!0}){this.forceShow=t}async show(t,e){if((0,r.isPersonalPush)(t))return!1;const{title:n,body:s,dir:o,icon:a,image:u,renotify:c,requireInteraction:l,silent:d,tag:h,badge:f,timestamp:p,vibrate:g}=t.notification,{expireAt:m}=t.data,v=(0,r.getNotificationData)(t);if(!this.forceShow){if(d)return e.addIgnored("silent",v),!1;if(null!=m&&m<Date.now())return e.addIgnored("expireAt",v),!1}const b=await(0,r.storePushId)(v.pushId);return!this.forceShow&&b?(e.addIgnored("duplicate-id",v),!1):(await self.registration.showNotification(n,{actions:v.actions?(0,r.prepareActions)(v.actions):void 0,badge:f,body:s,data:v,dir:o,icon:a,image:u,renotify:c,requireInteraction:l,tag:h,timestamp:p,vibrate:g}),await Promise.all([(0,i.runTagJob)(v,e),(0,i.runTTLJob)(v,e)]),!0)}}},42583:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.PushStatistics=void 0;var r=n(37107);Object.defineProperty(e,"PushStatistics",{enumerable:!0,get:function(){return i(r).default}})},37107:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});function n(t){const e=new Map;return null!=t&&e.set("push_id",t.pushId),e}e.default=class PushStatistics{constructor(){this.urls=[]}addClickedAction(t,e){return this.addUrl("clicked-action",n(e).set("action",t)),this}addClicked(t){return this.addUrl("clicked",n(t)),this}addClosed(t){return this.addUrl("closed",n(t)),this}addExpired(t){return this.addUrl("expired",n(t).set("reason","ttl")),this}addIgnored(t,e){return this.addUrl("ignored",n(e).set("reason",t)),this}addReceived(t){return this.addUrl("received",n(t)),this}addShown(t){return this.addUrl("shown",n(t)),this}addSubscriptionChange(t){const e=new Map([["yandexuid",t]]);return this.addUrl("subscriptionchange",e),this}async send(){const t={mode:"no-cors",credentials:"include"};try{await Promise.all(this.urls.map((e=>fetch(e,t))))}catch(e){}}addUrl(t,e){const n=`https://yandex.ru/clck/click/dtype=stred/pid=457/cid=73559/path=${t}/vars=${function(t){const e=[];for(const[n,i]of t)e.push(`-${n}=${i}`);return e.join(",")}(e)}/cts=${Date.now()}/*`;this.urls.push(n)}}},66187:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class DefaultPushValidator{async validate(t){return"object"!=typeof t||null==t?null:"data"in t&&("notification"in t||"payload"in t)?t:null}}},32954:function(t,e,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n);var r=Object.getOwnPropertyDescriptor(e,n);r&&!("get"in r?!e.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,i,r)}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),r=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||i(e,t,n)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPushValidator=void 0,r(n(56269),e);var o=n(66187);Object.defineProperty(e,"DefaultPushValidator",{enumerable:!0,get:function(){return s(o).default}})},56269:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},72468:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Store=e.store=void 0;const r=i(n(19405));e.Store=r.default;const s=new r.default;e.store=s},39604:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){return typeof t==typeof e&&("object"==typeof t?JSON.stringify(t)===JSON.stringify(e):t===e)}},42522:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.YaIDBTransaction=e.YaIDBRequest=e.fastCompare=void 0;var r=n(39604);Object.defineProperty(e,"fastCompare",{enumerable:!0,get:function(){return i(r).default}});var s=n(8058);Object.defineProperty(e,"YaIDBRequest",{enumerable:!0,get:function(){return i(s).default}});var o=n(31759);Object.defineProperty(e,"YaIDBTransaction",{enumerable:!0,get:function(){return i(o).default}})},8058:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class YaIDBRequest{static open(t,e,n){const i=indexedDB.open(t,e);return i.addEventListener("upgradeneeded",(()=>n(i.result))),new this(i)}static get(t,e){return new this(t.get(e))}get ready(){return this.promise}constructor(t){this.promise=new Promise(((e,n)=>{t.addEventListener("success",(()=>e(t.result))),t.addEventListener("error",(()=>n(t.error)))}))}}},31759:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class YaIDBTransaction{static createRead(t,e){return new this(t,e)}static createWrite(t,e){return new this(t,e,"readwrite")}get complete(){return this.promise}constructor(t,e,n){const i=t.transaction(e,n);this.promise=new Promise(((t,e)=>{i.addEventListener("complete",(()=>t())),i.addEventListener("abort",(()=>e(i.error)))})),this.transaction=i}objectStore(t){return this.transaction.objectStore(t)}}},19405:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(42522);class Store{constructor(){this.connectionStore=null}static configure({dbName:t}){this.dbName=t}get connection(){if(!this.connectionStore){const t=i.YaIDBRequest.open(Store.dbName,1,(t=>{t.createObjectStore("params")}));this.connectionStore=t.ready.then((t=>(t.onclose=()=>{this.connectionStore=null},t))),this.connectionStore.catch((()=>{this.connectionStore=null}))}return this.connectionStore}async getParams(t){const e=await this.connection,n=i.YaIDBTransaction.createRead(e,"params").objectStore("params"),r=new Map;return await Promise.all(Array.from(t,(async t=>{const e=await i.YaIDBRequest.get(n,t).ready;r.set(t,e)}))),r}async setParams(t){const e=await this.connection,n=i.YaIDBTransaction.createWrite(e,"params"),r=n.objectStore("params");for(const[i,s]of t)void 0===s?r.delete(i):r.put(s,i);await n.complete}async getDifference(t){const e=t.keys(),n=await this.getParams(e),r=new Map,s=new Map;for(const[o,a]of n){const e=t.get(o);(0,i.fastCompare)(e,a)||(r.set(o,e),null!=a&&s.set(o,a))}return[r,s]}}Store.dbName="notifications",e.default=Store},83141:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Subscriber=void 0;var r=n(28735);Object.defineProperty(e,"Subscriber",{enumerable:!0,get:function(){return i(r).default}})},12749:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){const e={};for(const[n,i]of t)switch(n){case"userId":e.yandexuid=i;break;case"subscription":e[n]=""!==i;break;default:e[n]=i}return e}},5079:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=async function(t){const e=await fetch(t),{status:n}=e;if(n>=200&&n<300)return e.text();const{statusText:i}=e;throw new Error(`Failed to load ${t}: ${n} ${i}`)}},45263:function(t,e,n){"use strict";var i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.getSubDataDiff=e.sendJSON=e.getText=void 0;var r=n(5079);Object.defineProperty(e,"getText",{enumerable:!0,get:function(){return i(r).default}});var s=n(29680);Object.defineProperty(e,"sendJSON",{enumerable:!0,get:function(){return i(s).default}});var o=n(12749);Object.defineProperty(e,"getSubDataDiff",{enumerable:!0,get:function(){return i(o).default}})},29680:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=async function(t,e){const n=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),{status:i}=n;if(i<200||i>=300){const{statusText:e}=n;throw new Error(`Failed to load ${t}: ${i} ${e}`)}}},28735:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(83473),r=n(93864),s=n(72468),o=n(45263);class Subscriber{static setApiUrl(t){return this.apiUrl=t,this}static setWebDomain(t){return this.webDomain=t,this}static setSyncAlways(t){return this.syncAlways=t,this}constructor(t,e){this.id=t,this.userAgent=null!=e?e:navigator.userAgent}async subscribe(t=[]){const e=await this.getSubscription(),n=new Map([["userId",this.id],["subscription",JSON.stringify(e)],["userAgent",this.userAgent],["tags",t]]),[i,r]=await s.store.getDifference(n);return(i.size>0||Subscriber.syncAlways)&&await this.sendRegistration(e,t),i.size>0&&await s.store.setParams(i),i.has("subscription")&&!r.has("subscription")&&r.set("subscription",""),(0,o.getSubDataDiff)(r)}async unsubscribe(){const t=await self.registration.pushManager.getSubscription();if(null!=t&&!(await t.unsubscribe()))throw new Error("Failed to unsubscribe");const e=new Map([["userId",this.id],["subscription",void 0],["userAgent",this.userAgent]]),[n]=await s.store.getDifference(e);return n.size>0&&await s.store.setParams(n),!0}async getSubscription(){await(0,r.waitWorkerActive)(self.registration);const{pushManager:t}=self.registration;let e=await t.getSubscription();if(!e){const n=!0,i=await this.getVapid();e=await t.subscribe({userVisibleOnly:n,applicationServerKey:i})}return e}async getVapid(){const t=await(0,o.getText)(`${Subscriber.apiUrl}/registrations/web/vapid`),e=`${t.replace(/[-_]/g,(t=>"-"===t?"+":"/"))}${"=".repeat((4-t.length%4)%4)}`,n=Array.from(atob(e),(t=>t.charCodeAt(0)));return new Uint8Array(n)}async sendRegistration(t,e){var n;const{id:i}=this,r={id:i,tags:e,subscription:t,webDomain:null!==(n=Subscriber.webDomain)&&void 0!==n?n:globalThis.location.hostname};await(0,o.sendJSON)(`${Subscriber.apiUrl}/registrations/web`,r)}}Subscriber.apiUrl=i.API_SUP_STAGE_URL,Subscriber.webDomain=null,Subscriber.syncAlways=!0,e.default=Subscriber},46880:function(t){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=90)}({17:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var i=n(18),r=function(){function t(){}return t.getFirstMatch=function(t,e){var n=e.match(t);return n&&n.length>0&&n[1]||""},t.getSecondMatch=function(t,e){var n=e.match(t);return n&&n.length>1&&n[2]||""},t.matchAndReturnConst=function(t,e,n){if(t.test(e))return n},t.getWindowsVersionName=function(t){switch(t){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},t.getMacOSVersionName=function(t){var e=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(e.push(0),10===e[0])switch(e[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},t.getAndroidVersionName=function(t){var e=t.split(".").splice(0,2).map((function(t){return parseInt(t,10)||0}));if(e.push(0),!(1===e[0]&&e[1]<5))return 1===e[0]&&e[1]<6?"Cupcake":1===e[0]&&e[1]>=6?"Donut":2===e[0]&&e[1]<2?"Eclair":2===e[0]&&2===e[1]?"Froyo":2===e[0]&&e[1]>2?"Gingerbread":3===e[0]?"Honeycomb":4===e[0]&&e[1]<1?"Ice Cream Sandwich":4===e[0]&&e[1]<4?"Jelly Bean":4===e[0]&&e[1]>=4?"KitKat":5===e[0]?"Lollipop":6===e[0]?"Marshmallow":7===e[0]?"Nougat":8===e[0]?"Oreo":9===e[0]?"Pie":void 0},t.getVersionPrecision=function(t){return t.split(".").length},t.compareVersions=function(e,n,i){void 0===i&&(i=!1);var r=t.getVersionPrecision(e),s=t.getVersionPrecision(n),o=Math.max(r,s),a=0,u=t.map([e,n],(function(e){var n=o-t.getVersionPrecision(e),i=e+new Array(n+1).join(".0");return t.map(i.split("."),(function(t){return new Array(20-t.length).join("0")+t})).reverse()}));for(i&&(a=o-Math.min(r,s)),o-=1;o>=a;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===a)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}},t.map=function(t,e){var n,i=[];if(Array.prototype.map)return Array.prototype.map.call(t,e);for(n=0;n<t.length;n+=1)i.push(e(t[n]));return i},t.find=function(t,e){var n,i;if(Array.prototype.find)return Array.prototype.find.call(t,e);for(n=0,i=t.length;n<i;n+=1){var r=t[n];if(e(r,n))return r}},t.assign=function(t){for(var e,n,i=t,r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[t].concat(s));var a=function(){var t=s[e];"object"==typeof t&&null!==t&&Object.keys(t).forEach((function(e){i[e]=t[e]}))};for(e=0,n=s.length;e<n;e+=1)a();return t},t.getBrowserAlias=function(t){return i.BROWSER_ALIASES_MAP[t]},t.getBrowserTypeByAlias=function(t){return i.BROWSER_MAP[t]||""},t}();e.default=r,t.exports=e.default},18:function(t,e,n){"use strict";e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},e.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},e.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},e.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},e.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var i,r=(i=n(91))&&i.__esModule?i:{default:i},s=n(18);function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var a=function(){function t(){}var e,n,i;return t.getParser=function(t,e){if(void 0===e&&(e=!1),"string"!=typeof t)throw new Error("UserAgent should be a string");return new r.default(t,e)},t.parse=function(t){return new r.default(t).getResult()},e=t,i=[{key:"BROWSER_MAP",get:function(){return s.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return s.ENGINE_MAP}},{key:"OS_MAP",get:function(){return s.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return s.PLATFORMS_MAP}}],(n=null)&&o(e.prototype,n),i&&o(e,i),t}();e.default=a,t.exports=e.default},91:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var i=u(n(92)),r=u(n(93)),s=u(n(94)),o=u(n(95)),a=u(n(17));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(){function t(t,e){if(void 0===e&&(e=!1),null==t||""===t)throw new Error("UserAgent parameter can't be empty");this._ua=t,this.parsedResult={},!0!==e&&this.parse()}var e=t.prototype;return e.getUA=function(){return this._ua},e.test=function(t){return t.test(this._ua)},e.parseBrowser=function(){var t=this;this.parsedResult.browser={};var e=a.default.find(i.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser},e.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},e.getBrowserName=function(t){return t?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},e.getBrowserVersion=function(){return this.getBrowser().version},e.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},e.parseOS=function(){var t=this;this.parsedResult.os={};var e=a.default.find(r.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os},e.getOSName=function(t){var e=this.getOS().name;return t?String(e).toLowerCase()||"":e||""},e.getOSVersion=function(){return this.getOS().version},e.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},e.getPlatformType=function(t){void 0===t&&(t=!1);var e=this.getPlatform().type;return t?String(e).toLowerCase()||"":e||""},e.parsePlatform=function(){var t=this;this.parsedResult.platform={};var e=a.default.find(s.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform},e.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},e.getEngineName=function(t){return t?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},e.parseEngine=function(){var t=this;this.parsedResult.engine={};var e=a.default.find(o.default,(function(e){if("function"==typeof e.test)return e.test(t);if(e.test instanceof Array)return e.test.some((function(e){return t.test(e)}));throw new Error("Browser's test function is not valid")}));return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine},e.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},e.getResult=function(){return a.default.assign({},this.parsedResult)},e.satisfies=function(t){var e=this,n={},i=0,r={},s=0;if(Object.keys(t).forEach((function(e){var o=t[e];"string"==typeof o?(r[e]=o,s+=1):"object"==typeof o&&(n[e]=o,i+=1)})),i>0){var o=Object.keys(n),u=a.default.find(o,(function(t){return e.isOS(t)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=a.default.find(o,(function(t){return e.isPlatform(t)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(s>0){var h=Object.keys(r),f=a.default.find(h,(function(t){return e.isBrowser(t,!0)}));if(void 0!==f)return this.compareVersion(r[f])}},e.isBrowser=function(t,e){void 0===e&&(e=!1);var n=this.getBrowserName().toLowerCase(),i=t.toLowerCase(),r=a.default.getBrowserTypeByAlias(i);return e&&r&&(i=r.toLowerCase()),i===n},e.compareVersion=function(t){var e=[0],n=t,i=!1,r=this.getBrowserVersion();if("string"==typeof r)return">"===t[0]||"<"===t[0]?(n=t.substr(1),"="===t[1]?(i=!0,n=t.substr(2)):e=[],">"===t[0]?e.push(1):e.push(-1)):"="===t[0]?n=t.substr(1):"~"===t[0]&&(i=!0,n=t.substr(1)),e.indexOf(a.default.compareVersions(r,n,i))>-1},e.isOS=function(t){return this.getOSName(!0)===String(t).toLowerCase()},e.isPlatform=function(t){return this.getPlatformType(!0)===String(t).toLowerCase()},e.isEngine=function(t){return this.getEngineName(!0)===String(t).toLowerCase()},e.is=function(t,e){return void 0===e&&(e=!1),this.isBrowser(t,e)||this.isOS(t)||this.isPlatform(t)},e.some=function(t){var e=this;return void 0===t&&(t=[]),t.some((function(t){return e.is(t)}))},t}();e.default=c,t.exports=e.default},92:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},s=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(t){var e={name:"Googlebot"},n=r.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/opera/i],describe:function(t){var e={name:"Opera"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opr\/|opios/i],describe:function(t){var e={name:"Opera"},n=r.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/SamsungBrowser/i],describe:function(t){var e={name:"Samsung Internet for Android"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Whale/i],describe:function(t){var e={name:"NAVER Whale Browser"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MZBrowser/i],describe:function(t){var e={name:"MZ Browser"},n=r.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/focus/i],describe:function(t){var e={name:"Focus"},n=r.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/swing/i],describe:function(t){var e={name:"Swing"},n=r.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/coast/i],describe:function(t){var e={name:"Opera Coast"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(t){var e={name:"Opera Touch"},n=r.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/yabrowser/i],describe:function(t){var e={name:"Yandex Browser"},n=r.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/ucbrowser/i],describe:function(t){var e={name:"UC Browser"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/Maxthon|mxios/i],describe:function(t){var e={name:"Maxthon"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/epiphany/i],describe:function(t){var e={name:"Epiphany"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/puffin/i],describe:function(t){var e={name:"Puffin"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sleipnir/i],describe:function(t){var e={name:"Sleipnir"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/k-meleon/i],describe:function(t){var e={name:"K-Meleon"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/micromessenger/i],describe:function(t){var e={name:"WeChat"},n=r.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/qqbrowser/i],describe:function(t){var e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},n=r.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/msie|trident/i],describe:function(t){var e={name:"Internet Explorer"},n=r.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/\sedg\//i],describe:function(t){var e={name:"Microsoft Edge"},n=r.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/edg([ea]|ios)/i],describe:function(t){var e={name:"Microsoft Edge"},n=r.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/vivaldi/i],describe:function(t){var e={name:"Vivaldi"},n=r.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/seamonkey/i],describe:function(t){var e={name:"SeaMonkey"},n=r.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/sailfish/i],describe:function(t){var e={name:"Sailfish"},n=r.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return n&&(e.version=n),e}},{test:[/silk/i],describe:function(t){var e={name:"Amazon Silk"},n=r.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/phantom/i],describe:function(t){var e={name:"PhantomJS"},n=r.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/slimerjs/i],describe:function(t){var e={name:"SlimerJS"},n=r.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e={name:"BlackBerry"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e={name:"WebOS Browser"},n=r.default.getFirstMatch(s,t)||r.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/bada/i],describe:function(t){var e={name:"Bada"},n=r.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/tizen/i],describe:function(t){var e={name:"Tizen"},n=r.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/qupzilla/i],describe:function(t){var e={name:"QupZilla"},n=r.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/firefox|iceweasel|fxios/i],describe:function(t){var e={name:"Firefox"},n=r.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/electron/i],describe:function(t){var e={name:"Electron"},n=r.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/MiuiBrowser/i],describe:function(t){var e={name:"Miui"},n=r.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/chromium/i],describe:function(t){var e={name:"Chromium"},n=r.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/chrome|crios|crmo/i],describe:function(t){var e={name:"Chrome"},n=r.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/GSA/i],describe:function(t){var e={name:"Google Search"},n=r.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:function(t){var e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe:function(t){var e={name:"Android Browser"},n=r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/playstation 4/i],describe:function(t){var e={name:"PlayStation 4"},n=r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/safari|applewebkit/i],describe:function(t){var e={name:"Safari"},n=r.default.getFirstMatch(s,t);return n&&(e.version=n),e}},{test:[/.*/i],describe:function(t){var e=-1!==t.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:r.default.getFirstMatch(e,t),version:r.default.getSecondMatch(e,t)}}}];e.default=o,t.exports=e.default},93:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},s=n(18),o=[{test:[/Roku\/DVP/],describe:function(t){var e=r.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:s.OS_MAP.Roku,version:e}}},{test:[/windows phone/i],describe:function(t){var e=r.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.WindowsPhone,version:e}}},{test:[/windows /i],describe:function(t){var e=r.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),n=r.default.getWindowsVersionName(e);return{name:s.OS_MAP.Windows,version:e,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(t){var e={name:s.OS_MAP.iOS},n=r.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return n&&(e.version=n),e}},{test:[/macintosh/i],describe:function(t){var e=r.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),n=r.default.getMacOSVersionName(e),i={name:s.OS_MAP.MacOS,version:e};return n&&(i.versionName=n),i}},{test:[/(ipod|iphone|ipad)/i],describe:function(t){var e=r.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:s.OS_MAP.iOS,version:e}}},{test:function(t){var e=!t.test(/like android/i),n=t.test(/android/i);return e&&n},describe:function(t){var e=r.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),n=r.default.getAndroidVersionName(e),i={name:s.OS_MAP.Android,version:e};return n&&(i.versionName=n),i}},{test:[/(web|hpw)[o0]s/i],describe:function(t){var e=r.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),n={name:s.OS_MAP.WebOS};return e&&e.length&&(n.version=e),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(t){var e=r.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||r.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||r.default.getFirstMatch(/\bbb(\d+)/i,t);return{name:s.OS_MAP.BlackBerry,version:e}}},{test:[/bada/i],describe:function(t){var e=r.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.Bada,version:e}}},{test:[/tizen/i],describe:function(t){var e=r.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.Tizen,version:e}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(t){var e=r.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:s.OS_MAP.PlayStation4,version:e}}}];e.default=o,t.exports=e.default},94:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},s=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(t){var e=r.default.getFirstMatch(/(can-l01)/i,t)&&"Nova",n={type:s.PLATFORMS_MAP.mobile,vendor:"Huawei"};return e&&(n.model=e),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(t){var e=t.test(/ipod|iphone/i),n=t.test(/like (ipod|iphone)/i);return e&&!n},describe:function(t){var e=r.default.getFirstMatch(/(ipod|iphone)/i,t);return{type:s.PLATFORMS_MAP.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"blackberry"===t.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(t){return"bada"===t.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"windows phone"===t.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(t){var e=Number(String(t.getOSVersion()).split(".")[0]);return"android"===t.getOSName(!0)&&e>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(t){return"android"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(t){return"macos"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(t){return"windows"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(t){return"linux"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(t){return"playstation 4"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(t){return"roku"===t.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var i,r=(i=n(17))&&i.__esModule?i:{default:i},s=n(18),o=[{test:function(t){return"microsoft edge"===t.getBrowserName(!0)},describe:function(t){if(/\sedg\//i.test(t))return{name:s.ENGINE_MAP.Blink};var e=r.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:s.ENGINE_MAP.EdgeHTML,version:e}}},{test:[/trident/i],describe:function(t){var e={name:s.ENGINE_MAP.Trident},n=r.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:function(t){return t.test(/presto/i)},describe:function(t){var e={name:s.ENGINE_MAP.Presto},n=r.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:function(t){var e=t.test(/gecko/i),n=t.test(/like gecko/i);return e&&!n},describe:function(t){var e={name:s.ENGINE_MAP.Gecko},n=r.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(t){var e={name:s.ENGINE_MAP.WebKit},n=r.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return n&&(e.version=n),e}}];e.default=o,t.exports=e.default}})},14744:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function i(t,e){return!1!==e.clone&&e.isMergeableObject(t)?u((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function r(t,e,n){return t.concat(e).map((function(t){return i(t,n)}))}function s(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function o(t,e){try{return e in t}catch(n){return!1}}function a(t,e,n){var r={};return n.isMergeableObject(t)&&s(t).forEach((function(e){r[e]=i(t[e],n)})),s(e).forEach((function(s){(function(t,e){return o(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,s)||(o(t,s)&&n.isMergeableObject(e[s])?r[s]=function(t,e){if(!e.customMerge)return u;var n=e.customMerge(t);return"function"==typeof n?n:u}(s,n)(t[s],e[s],n):r[s]=i(e[s],n))})),r}function u(t,n,s){(s=s||{}).arrayMerge=s.arrayMerge||r,s.isMergeableObject=s.isMergeableObject||e,s.cloneUnlessOtherwiseSpecified=i;var o=Array.isArray(n);return o===Array.isArray(t)?o?s.arrayMerge(t,n,s):a(t,n,s):i(n,s)}u.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return u(t,n,e)}),{})};var c=u;t.exports=c},61531:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/0.png"},24325:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/1.png"},75016:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/10.png"},23409:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/11.png"},47162:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/12.png"},36995:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/13.png"},87596:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/14.png"},99221:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/15.png"},78846:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/16.png"},54631:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/17.png"},10400:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/18.png"},34601:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/19.png"},77673:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/2.png"},1357:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/20.png"},47460:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/21.png"},84319:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/22.png"},71030:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/23.png"},11113:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/24.png"},32992:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/25.png"},11323:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/26.png"},96498:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/27.png"},67349:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/28.png"},15084:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/29.png"},99552:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/3.png"},93474:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/30.png"},83979:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/31.png"},70160:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/32.png"},76409:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/33.png"},73990:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/34.png"},39183:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/35.png"},34068:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/36.png"},55197:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/37.png"},44426:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/38.png"},59987:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/39.png"},56908:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/4.png"},48847:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/40.png"},83654:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/41.png"},64861:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/42.png"},43732:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/43.png"},93643:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/44.png"},3138:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/45.png"},86073:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/46.png"},79824:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/47.png"},96183:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/48.png"},96686:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/49.png"},37590:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/5.png"},16068:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/50.png"},72365:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/51.png"},90742:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/52.png"},70719:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/53.png"},19392:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/54.png"},90569:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/55.png"},99858:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/56.png"},97723:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/57.png"},59916:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/58.png"},29013:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/59.png"},51565:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/6.png"},61369:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/60.png"},64464:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/61.png"},17963:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/62.png"},96834:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/63.png"},93181:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/64.png"},72052:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/65.png"},7311:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/66.png"},68294:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/67.png"},8097:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/68.png"},39832:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/69.png"},97668:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/7.png"},57891:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/8.png"},93786:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/animation/9.png"},11512:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/has-offers/128.png"},30254:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/has-offers/16.png"},90649:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/has-offers/24.png"},23968:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/has-offers/32.png"},94215:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/has-offers/48.png"},19701:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/no-offers/128.png"},92653:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/no-offers/16.png"},50734:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/no-offers/24.png"},89351:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/no-offers/32.png"},39428:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>i});const i=n.p+"ext-icons/no-offers/48.png"},14506:t=>{t.exports=function(t,e){for(var n=0,i=t.indexOf(e);i>=0;)n+=1,i=t.indexOf(e,i+1);return n}},25428:t=>{t.exports=function(t,e,n,i){if(void 0===n)n=-1;var r=t.split(e),s=r.slice(0,n),o=r.slice(n);return r=0===o.length?s:s.concat(o.join(e)),void 0===i?r:i<0?r.slice(i):r.slice(0,i)}},48911:t=>{t.exports=function(t,e,n,i){if(void 0===n)n=-1;if(void 0===i)i=0;for(var r=[t],s=t.length-1;s>=0;s--)0===r[0].slice(s).indexOf(e)&&(r.length<=n||-1===n)&&(r.splice(1,0,r[0].slice(s+e.length)),r[0]=r[0].slice(0,s));return i>=0?r.slice(-i):r.slice(0,-i)}},16291:function(t,e,n){var i;(function(){"use strict";var r={},s={"Á":"A","Ă":"A","Ắ":"A","Ặ":"A","Ằ":"A","Ẳ":"A","Ẵ":"A","Ǎ":"A","Â":"A","Ấ":"A","Ậ":"A","Ầ":"A","Ẩ":"A","Ẫ":"A","Ä":"A","Ǟ":"A","Ȧ":"A","Ǡ":"A","Ạ":"A","Ȁ":"A","À":"A","Ả":"A","Ȃ":"A","Ā":"A","Ą":"A","Å":"A","Ǻ":"A","Ḁ":"A","Ⱥ":"A","Ã":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ḃ":"B","Ḅ":"B","Ɓ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ć":"C","Č":"C","Ç":"C","Ḉ":"C","Ĉ":"C","Ċ":"C","Ƈ":"C","Ȼ":"C","Ď":"D","Ḑ":"D","Ḓ":"D","Ḋ":"D","Ḍ":"D","Ɗ":"D","Ḏ":"D","ǲ":"D","ǅ":"D","Đ":"D","Ƌ":"D","Ǳ":"DZ","Ǆ":"DZ","É":"E","Ĕ":"E","Ě":"E","Ȩ":"E","Ḝ":"E","Ê":"E","Ế":"E","Ệ":"E","Ề":"E","Ể":"E","Ễ":"E","Ḙ":"E","Ë":"E","Ė":"E","Ẹ":"E","Ȅ":"E","È":"E","Ẻ":"E","Ȇ":"E","Ē":"E","Ḗ":"E","Ḕ":"E","Ę":"E","Ɇ":"E","Ẽ":"E","Ḛ":"E","Ꝫ":"ET","Ḟ":"F","Ƒ":"F","Ǵ":"G","Ğ":"G","Ǧ":"G","Ģ":"G","Ĝ":"G","Ġ":"G","Ɠ":"G","Ḡ":"G","Ǥ":"G","Ḫ":"H","Ȟ":"H","Ḩ":"H","Ĥ":"H","Ⱨ":"H","Ḧ":"H","Ḣ":"H","Ḥ":"H","Ħ":"H","Í":"I","Ĭ":"I","Ǐ":"I","Î":"I","Ï":"I","Ḯ":"I","İ":"I","Ị":"I","Ȉ":"I","Ì":"I","Ỉ":"I","Ȋ":"I","Ī":"I","Į":"I","Ɨ":"I","Ĩ":"I","Ḭ":"I","Ꝺ":"D","Ꝼ":"F","Ᵹ":"G","Ꞃ":"R","Ꞅ":"S","Ꞇ":"T","Ꝭ":"IS","Ĵ":"J","Ɉ":"J","Ḱ":"K","Ǩ":"K","Ķ":"K","Ⱪ":"K","Ꝃ":"K","Ḳ":"K","Ƙ":"K","Ḵ":"K","Ꝁ":"K","Ꝅ":"K","Ĺ":"L","Ƚ":"L","Ľ":"L","Ļ":"L","Ḽ":"L","Ḷ":"L","Ḹ":"L","Ⱡ":"L","Ꝉ":"L","Ḻ":"L","Ŀ":"L","Ɫ":"L","ǈ":"L","Ł":"L","Ǉ":"LJ","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ń":"N","Ň":"N","Ņ":"N","Ṋ":"N","Ṅ":"N","Ṇ":"N","Ǹ":"N","Ɲ":"N","Ṉ":"N","Ƞ":"N","ǋ":"N","Ñ":"N","Ǌ":"NJ","Ó":"O","Ŏ":"O","Ǒ":"O","Ô":"O","Ố":"O","Ộ":"O","Ồ":"O","Ổ":"O","Ỗ":"O","Ö":"O","Ȫ":"O","Ȯ":"O","Ȱ":"O","Ọ":"O","Ő":"O","Ȍ":"O","Ò":"O","Ỏ":"O","Ơ":"O","Ớ":"O","Ợ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ȏ":"O","Ꝋ":"O","Ꝍ":"O","Ō":"O","Ṓ":"O","Ṑ":"O","Ɵ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Õ":"O","Ṍ":"O","Ṏ":"O","Ȭ":"O","Ƣ":"OI","Ꝏ":"OO","Ɛ":"E","Ɔ":"O","Ȣ":"OU","Ṕ":"P","Ṗ":"P","Ꝓ":"P","Ƥ":"P","Ꝕ":"P","Ᵽ":"P","Ꝑ":"P","Ꝙ":"Q","Ꝗ":"Q","Ŕ":"R","Ř":"R","Ŗ":"R","Ṙ":"R","Ṛ":"R","Ṝ":"R","Ȑ":"R","Ȓ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꜿ":"C","Ǝ":"E","Ś":"S","Ṥ":"S","Š":"S","Ṧ":"S","Ş":"S","Ŝ":"S","Ș":"S","Ṡ":"S","Ṣ":"S","Ṩ":"S","ẞ":"SS","Ť":"T","Ţ":"T","Ṱ":"T","Ț":"T","Ⱦ":"T","Ṫ":"T","Ṭ":"T","Ƭ":"T","Ṯ":"T","Ʈ":"T","Ŧ":"T","Ɐ":"A","Ꞁ":"L","Ɯ":"M","Ʌ":"V","Ꜩ":"TZ","Ú":"U","Ŭ":"U","Ǔ":"U","Û":"U","Ṷ":"U","Ü":"U","Ǘ":"U","Ǚ":"U","Ǜ":"U","Ǖ":"U","Ṳ":"U","Ụ":"U","Ű":"U","Ȕ":"U","Ù":"U","Ủ":"U","Ư":"U","Ứ":"U","Ự":"U","Ừ":"U","Ử":"U","Ữ":"U","Ȗ":"U","Ū":"U","Ṻ":"U","Ų":"U","Ů":"U","Ũ":"U","Ṹ":"U","Ṵ":"U","Ꝟ":"V","Ṿ":"V","Ʋ":"V","Ṽ":"V","Ꝡ":"VY","Ẃ":"W","Ŵ":"W","Ẅ":"W","Ẇ":"W","Ẉ":"W","Ẁ":"W","Ⱳ":"W","Ẍ":"X","Ẋ":"X","Ý":"Y","Ŷ":"Y","Ÿ":"Y","Ẏ":"Y","Ỵ":"Y","Ỳ":"Y","Ƴ":"Y","Ỷ":"Y","Ỿ":"Y","Ȳ":"Y","Ɏ":"Y","Ỹ":"Y","Ź":"Z","Ž":"Z","Ẑ":"Z","Ⱬ":"Z","Ż":"Z","Ẓ":"Z","Ȥ":"Z","Ẕ":"Z","Ƶ":"Z","Ĳ":"IJ","Œ":"OE","ᴀ":"A","ᴁ":"AE","ʙ":"B","ᴃ":"B","ᴄ":"C","ᴅ":"D","ᴇ":"E","ꜰ":"F","ɢ":"G","ʛ":"G","ʜ":"H","ɪ":"I","ʁ":"R","ᴊ":"J","ᴋ":"K","ʟ":"L","ᴌ":"L","ᴍ":"M","ɴ":"N","ᴏ":"O","ɶ":"OE","ᴐ":"O","ᴕ":"OU","ᴘ":"P","ʀ":"R","ᴎ":"N","ᴙ":"R","ꜱ":"S","ᴛ":"T","ⱻ":"E","ᴚ":"R","ᴜ":"U","ᴠ":"V","ᴡ":"W","ʏ":"Y","ᴢ":"Z","á":"a","ă":"a","ắ":"a","ặ":"a","ằ":"a","ẳ":"a","ẵ":"a","ǎ":"a","â":"a","ấ":"a","ậ":"a","ầ":"a","ẩ":"a","ẫ":"a","ä":"a","ǟ":"a","ȧ":"a","ǡ":"a","ạ":"a","ȁ":"a","à":"a","ả":"a","ȃ":"a","ā":"a","ą":"a","ᶏ":"a","ẚ":"a","å":"a","ǻ":"a","ḁ":"a","ⱥ":"a","ã":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ḃ":"b","ḅ":"b","ɓ":"b","ḇ":"b","ᵬ":"b","ᶀ":"b","ƀ":"b","ƃ":"b","ɵ":"o","ć":"c","č":"c","ç":"c","ḉ":"c","ĉ":"c","ɕ":"c","ċ":"c","ƈ":"c","ȼ":"c","ď":"d","ḑ":"d","ḓ":"d","ȡ":"d","ḋ":"d","ḍ":"d","ɗ":"d","ᶑ":"d","ḏ":"d","ᵭ":"d","ᶁ":"d","đ":"d","ɖ":"d","ƌ":"d","ı":"i","ȷ":"j","ɟ":"j","ʄ":"j","ǳ":"dz","ǆ":"dz","é":"e","ĕ":"e","ě":"e","ȩ":"e","ḝ":"e","ê":"e","ế":"e","ệ":"e","ề":"e","ể":"e","ễ":"e","ḙ":"e","ë":"e","ė":"e","ẹ":"e","ȅ":"e","è":"e","ẻ":"e","ȇ":"e","ē":"e","ḗ":"e","ḕ":"e","ⱸ":"e","ę":"e","ᶒ":"e","ɇ":"e","ẽ":"e","ḛ":"e","ꝫ":"et","ḟ":"f","ƒ":"f","ᵮ":"f","ᶂ":"f","ǵ":"g","ğ":"g","ǧ":"g","ģ":"g","ĝ":"g","ġ":"g","ɠ":"g","ḡ":"g","ᶃ":"g","ǥ":"g","ḫ":"h","ȟ":"h","ḩ":"h","ĥ":"h","ⱨ":"h","ḧ":"h","ḣ":"h","ḥ":"h","ɦ":"h","ẖ":"h","ħ":"h","ƕ":"hv","í":"i","ĭ":"i","ǐ":"i","î":"i","ï":"i","ḯ":"i","ị":"i","ȉ":"i","ì":"i","ỉ":"i","ȋ":"i","ī":"i","į":"i","ᶖ":"i","ɨ":"i","ĩ":"i","ḭ":"i","ꝺ":"d","ꝼ":"f","ᵹ":"g","ꞃ":"r","ꞅ":"s","ꞇ":"t","ꝭ":"is","ǰ":"j","ĵ":"j","ʝ":"j","ɉ":"j","ḱ":"k","ǩ":"k","ķ":"k","ⱪ":"k","ꝃ":"k","ḳ":"k","ƙ":"k","ḵ":"k","ᶄ":"k","ꝁ":"k","ꝅ":"k","ĺ":"l","ƚ":"l","ɬ":"l","ľ":"l","ļ":"l","ḽ":"l","ȴ":"l","ḷ":"l","ḹ":"l","ⱡ":"l","ꝉ":"l","ḻ":"l","ŀ":"l","ɫ":"l","ᶅ":"l","ɭ":"l","ł":"l","ǉ":"lj","ſ":"s","ẜ":"s","ẛ":"s","ẝ":"s","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ᵯ":"m","ᶆ":"m","ń":"n","ň":"n","ņ":"n","ṋ":"n","ȵ":"n","ṅ":"n","ṇ":"n","ǹ":"n","ɲ":"n","ṉ":"n","ƞ":"n","ᵰ":"n","ᶇ":"n","ɳ":"n","ñ":"n","ǌ":"nj","ó":"o","ŏ":"o","ǒ":"o","ô":"o","ố":"o","ộ":"o","ồ":"o","ổ":"o","ỗ":"o","ö":"o","ȫ":"o","ȯ":"o","ȱ":"o","ọ":"o","ő":"o","ȍ":"o","ò":"o","ỏ":"o","ơ":"o","ớ":"o","ợ":"o","ờ":"o","ở":"o","ỡ":"o","ȏ":"o","ꝋ":"o","ꝍ":"o","ⱺ":"o","ō":"o","ṓ":"o","ṑ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","õ":"o","ṍ":"o","ṏ":"o","ȭ":"o","ƣ":"oi","ꝏ":"oo","ɛ":"e","ᶓ":"e","ɔ":"o","ᶗ":"o","ȣ":"ou","ṕ":"p","ṗ":"p","ꝓ":"p","ƥ":"p","ᵱ":"p","ᶈ":"p","ꝕ":"p","ᵽ":"p","ꝑ":"p","ꝙ":"q","ʠ":"q","ɋ":"q","ꝗ":"q","ŕ":"r","ř":"r","ŗ":"r","ṙ":"r","ṛ":"r","ṝ":"r","ȑ":"r","ɾ":"r","ᵳ":"r","ȓ":"r","ṟ":"r","ɼ":"r","ᵲ":"r","ᶉ":"r","ɍ":"r","ɽ":"r","ↄ":"c","ꜿ":"c","ɘ":"e","ɿ":"r","ś":"s","ṥ":"s","š":"s","ṧ":"s","ş":"s","ŝ":"s","ș":"s","ṡ":"s","ṣ":"s","ṩ":"s","ʂ":"s","ᵴ":"s","ᶊ":"s","ȿ":"s","ɡ":"g","ß":"ss","ᴑ":"o","ᴓ":"o","ᴝ":"u","ť":"t","ţ":"t","ṱ":"t","ț":"t","ȶ":"t","ẗ":"t","ⱦ":"t","ṫ":"t","ṭ":"t","ƭ":"t","ṯ":"t","ᵵ":"t","ƫ":"t","ʈ":"t","ŧ":"t","ᵺ":"th","ɐ":"a","ᴂ":"ae","ǝ":"e","ᵷ":"g","ɥ":"h","ʮ":"h","ʯ":"h","ᴉ":"i","ʞ":"k","ꞁ":"l","ɯ":"m","ɰ":"m","ᴔ":"oe","ɹ":"r","ɻ":"r","ɺ":"r","ⱹ":"r","ʇ":"t","ʌ":"v","ʍ":"w","ʎ":"y","ꜩ":"tz","ú":"u","ŭ":"u","ǔ":"u","û":"u","ṷ":"u","ü":"u","ǘ":"u","ǚ":"u","ǜ":"u","ǖ":"u","ṳ":"u","ụ":"u","ű":"u","ȕ":"u","ù":"u","ủ":"u","ư":"u","ứ":"u","ự":"u","ừ":"u","ử":"u","ữ":"u","ȗ":"u","ū":"u","ṻ":"u","ų":"u","ᶙ":"u","ů":"u","ũ":"u","ṹ":"u","ṵ":"u","ᵫ":"ue","ꝸ":"um","ⱴ":"v","ꝟ":"v","ṿ":"v","ʋ":"v","ᶌ":"v","ⱱ":"v","ṽ":"v","ꝡ":"vy","ẃ":"w","ŵ":"w","ẅ":"w","ẇ":"w","ẉ":"w","ẁ":"w","ⱳ":"w","ẘ":"w","ẍ":"x","ẋ":"x","ᶍ":"x","ý":"y","ŷ":"y","ÿ":"y","ẏ":"y","ỵ":"y","ỳ":"y","ƴ":"y","ỷ":"y","ỿ":"y","ȳ":"y","ẙ":"y","ɏ":"y","ỹ":"y","ź":"z","ž":"z","ẑ":"z","ʑ":"z","ⱬ":"z","ż":"z","ẓ":"z","ȥ":"z","ẕ":"z","ᵶ":"z","ᶎ":"z","ʐ":"z","ƶ":"z","ɀ":"z","ﬀ":"ff","ﬃ":"ffi","ﬄ":"ffl","ﬁ":"fi","ﬂ":"fl","ĳ":"ij","œ":"oe","ﬆ":"st","ₐ":"a","ₑ":"e","ᵢ":"i","ⱼ":"j","ₒ":"o","ᵣ":"r","ᵤ":"u","ᵥ":"v","ₓ":"x"};function o(t,e){t.s=null!=e?"string"==typeof e?e:e.toString():e,t.orig=e,null!=e?t.__defineGetter__?t.__defineGetter__("length",(function(){return t.s.length})):t.length=e.length:t.length=-1}function a(t){o(this,t)}var u=String.prototype,c=a.prototype={between:function(t,e){var n=this.s,i=n.indexOf(t),r=n.indexOf(e,i+t.length);return-1==r&&null!=e?new this.constructor(""):-1==r&&null==e?new this.constructor(n.substring(i+t.length)):new this.constructor(n.slice(i+t.length,r))},camelize:function(){var t=this.trim().s.replace(/(\-|_|\s)+(.)?/g,(function(t,e,n){return n?n.toUpperCase():""}));return new this.constructor(t)},capitalize:function(){return new this.constructor(this.s.substr(0,1).toUpperCase()+this.s.substring(1).toLowerCase())},charAt:function(t){return this.s.charAt(t)},chompLeft:function(t){var e=this.s;return 0===e.indexOf(t)?(e=e.slice(t.length),new this.constructor(e)):this},chompRight:function(t){if(this.endsWith(t)){var e=this.s;return e=e.slice(0,e.length-t.length),new this.constructor(e)}return this},collapseWhitespace:function(){var t=this.s.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"");return new this.constructor(t)},contains:function(t){return this.s.indexOf(t)>=0},count:function(t){return n(14506)(this.s,t)},dasherize:function(){var t=this.trim().s.replace(/[_\s]+/g,"-").replace(/([A-Z])/g,"-$1").replace(/-+/g,"-").toLowerCase();return new this.constructor(t)},equalsIgnoreCase:function(t){return this.s.toLowerCase()==t.toLowerCase()},latinise:function(){var t=this.replace(/[^A-Za-z0-9\[\] ]/g,(function(t){return s[t]||t}));return new this.constructor(t)},decodeHtmlEntities:function(){var t=this.s;return t=t.replace(/&#(\d+);?/g,(function(t,e){return String.fromCharCode(e)})).replace(/&#[xX]([A-Fa-f0-9]+);?/g,(function(t,e){return String.fromCharCode(parseInt(e,16))})).replace(/&([^;\W]+;?)/g,(function(t,e){var n=e.replace(/;$/,""),i=r[e]||e.match(/;$/)&&r[n];return"number"==typeof i?String.fromCharCode(i):"string"==typeof i?i:t})),new this.constructor(t)},endsWith:function(){for(var t=Array.prototype.slice.call(arguments,0),e=0;e<t.length;++e){var n=this.s.length-t[e].length;if(n>=0&&this.s.indexOf(t[e],n)===n)return!0}return!1},escapeHTML:function(){return new this.constructor(this.s.replace(/[&<>"']/g,(function(t){return"&"+v[t]+";"})))},ensureLeft:function(t){var e=this.s;return 0===e.indexOf(t)?this:new this.constructor(t+e)},ensureRight:function(t){var e=this.s;return this.endsWith(t)?this:new this.constructor(e+t)},humanize:function(){if(null===this.s||void 0===this.s)return new this.constructor("");var t=this.underscore().replace(/_id$/,"").replace(/_/g," ").trim().capitalize();return new this.constructor(t)},isAlpha:function(){return!/[^a-z\xDF-\xFF]|^$/.test(this.s.toLowerCase())},isAlphaNumeric:function(){return!/[^0-9a-z\xDF-\xFF]/.test(this.s.toLowerCase())},isEmpty:function(){return null===this.s||void 0===this.s||/^[\s\xa0]*$/.test(this.s)},isLower:function(){return this.isAlpha()&&this.s.toLowerCase()===this.s},isNumeric:function(){return!/[^0-9]/.test(this.s)},isUpper:function(){return this.isAlpha()&&this.s.toUpperCase()===this.s},left:function(t){if(t>=0){var e=this.s.substr(0,t);return new this.constructor(e)}return this.right(-t)},lines:function(){return this.replaceAll("\r\n","\n").s.split("\n")},pad:function(t,e){if(null==e&&(e=" "),this.s.length>=t)return new this.constructor(this.s);t-=this.s.length;var n=Array(Math.ceil(t/2)+1).join(e),i=Array(Math.floor(t/2)+1).join(e);return new this.constructor(n+this.s+i)},padLeft:function(t,e){return null==e&&(e=" "),this.s.length>=t?new this.constructor(this.s):new this.constructor(Array(t-this.s.length+1).join(e)+this.s)},padRight:function(t,e){return null==e&&(e=" "),this.s.length>=t?new this.constructor(this.s):new this.constructor(this.s+Array(t-this.s.length+1).join(e))},parseCSV:function(t,e,n,i){t=t||",",n=n||"\\",void 0===e&&(e='"');var r=0,s=[],o=[],a=this.s.length,u=!1,c=!1,l=this,d=function(t){return l.s.charAt(t)};if(void 0!==i)var h=[];for(e||(u=!0);r<a;){var f=d(r);switch(f){case n:if(u&&(n!==e||d(r+1)===e)){r+=1,s.push(d(r));break}if(n!==e)break;case e:u=!u;break;case t:c&&(u=!1,c=!1),u&&e?s.push(f):(o.push(s.join("")),s.length=0);break;case i:c?(u=!1,c=!1,o.push(s.join("")),h.push(o),o=[],s.length=0):u?s.push(f):h&&(o.push(s.join("")),h.push(o),o=[],s.length=0);break;case" ":u&&s.push(f);break;default:u?s.push(f):f!==e&&(s.push(f),u=!0,c=!0)}r+=1}return o.push(s.join("")),h?(h.push(o),h):o},replaceAll:function(t,e){var n=this.s.split(t).join(e);return new this.constructor(n)},splitLeft:function(t,e,i){return n(25428)(this.s,t,e,i)},splitRight:function(t,e,i){return n(48911)(this.s,t,e,i)},strip:function(){for(var t=this.s,e=0,n=arguments.length;e<n;e++)t=t.split(arguments[e]).join("");return new this.constructor(t)},stripLeft:function(t){var e,n,i=m(this.s);return void 0===t?n=/^\s+/g:(e=g(t),n=new RegExp("^["+e+"]+","g")),new this.constructor(i.replace(n,""))},stripRight:function(t){var e,n,i=m(this.s);return void 0===t?n=/\s+$/g:(e=g(t),n=new RegExp("["+e+"]+$","g")),new this.constructor(i.replace(n,""))},right:function(t){if(t>=0){var e=this.s.substr(this.s.length-t,t);return new this.constructor(e)}return this.left(-t)},setValue:function(t){return o(this,t),this},slugify:function(){var t=new a(new a(this.s).latinise().s.replace(/[^\w\s-]/g,"").toLowerCase()).dasherize().s;return"-"===t.charAt(0)&&(t=t.substr(1)),new this.constructor(t)},startsWith:function(){for(var t=Array.prototype.slice.call(arguments,0),e=0;e<t.length;++e)if(0===this.s.lastIndexOf(t[e],0))return!0;return!1},stripPunctuation:function(){return new this.constructor(this.s.replace(/[^\w\s]|_/g,"").replace(/\s+/g," "))},stripTags:function(){var t=this.s;return function(t,e){var n,i=[];for(n=0;n<t.length;n++)i.push(t[n]),e&&e.call(t,t[n],n)}(arguments.length>0?arguments:[""],(function(e){t=t.replace(RegExp("</?"+e+"[^<>]*>","gi"),"")})),new this.constructor(t)},template:function(t,e,n){var i=this.s,r=(e=e||f.TMPL_OPEN,n=n||f.TMPL_CLOSE,e.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$")),s=n.replace(/[-[\]()*\s]/g,"\\$&").replace(/\$/g,"\\$"),o=new RegExp(r+"(.+?)"+s,"g");return(i.match(o)||[]).forEach((function(r){var s=r.substring(e.length,r.length-n.length).trim(),o=void 0===t[s]?"":t[s];i=i.replace(r,o)})),new this.constructor(i)},times:function(t){return new this.constructor(new Array(t+1).join(this.s))},titleCase:function(){var t=this.s;return t&&(t=t.replace(/(^[a-z]| [a-z]|-[a-z]|_[a-z])/g,(function(t){return t.toUpperCase()}))),new this.constructor(t)},toBoolean:function(){if("string"==typeof this.orig){var t=this.s.toLowerCase();return"true"===t||"yes"===t||"on"===t||"1"===t}return!0===this.orig||1===this.orig},toFloat:function(t){var e=parseFloat(this.s);return t?parseFloat(e.toFixed(t)):e},toInt:function(){return/^\s*-?0x/i.test(this.s)?parseInt(this.s,16):parseInt(this.s,10)},trim:function(){var t;return t=void 0===u.trim?this.s.replace(/(^\s*|\s*$)/g,""):this.s.trim(),new this.constructor(t)},trimLeft:function(){var t;return t=u.trimLeft?this.s.trimLeft():this.s.replace(/(^\s*)/g,""),new this.constructor(t)},trimRight:function(){var t;return t=u.trimRight?this.s.trimRight():this.s.replace(/\s+$/,""),new this.constructor(t)},truncate:function(t,e){var n=this.s;if(t=~~t,e=e||"...",n.length<=t)return new this.constructor(n);var i=n.slice(0,t+1).replace(/.(?=\W*\w*$)/g,(function(t){return t.toUpperCase()!==t.toLowerCase()?"A":" "}));return((i=i.slice(i.length-2).match(/\w\w/)?i.replace(/\s*\S+$/,""):new a(i.slice(0,i.length-1)).trimRight().s)+e).length>n.length?new a(n):new a(n.slice(0,i.length)+e)},toCSV:function(){var t=",",e='"',n="\\",i=!0,r=!1,s=[];if("object"==typeof arguments[0]?(t=arguments[0].delimiter||t,t=arguments[0].separator||t,e=arguments[0].qualifier||e,i=!!arguments[0].encloseNumbers,n=arguments[0].escape||n,r=!!arguments[0].keys):"string"==typeof arguments[0]&&(t=arguments[0]),"string"==typeof arguments[1]&&(e=arguments[1]),null===arguments[1]&&(e=null),this.orig instanceof Array)s=this.orig;else for(var o in this.orig)this.orig.hasOwnProperty(o)&&(r?s.push(o):s.push(this.orig[o]));for(var u,c=n+e,l=[],d=0;d<s.length;++d){var h=null!==(u=e)&&""!==u;if("number"==typeof s[d]&&(h&=i),h&&l.push(e),null!==s[d]&&void 0!==s[d]){var f=new a(s[d]).replaceAll(e,c).s;l.push(f)}else l.push("");h&&l.push(e),t&&l.push(t)}return l.length=l.length-1,new this.constructor(l.join(""))},toString:function(){return this.s},underscore:function(){var t=this.trim().s.replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase();return new this.constructor(t)},unescapeHTML:function(){return new this.constructor(this.s.replace(/\&([^;]+);/g,(function(t,e){var n;return e in p?p[e]:(n=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(n[1],16)):(n=e.match(/^#(\d+)$/))?String.fromCharCode(~~n[1]):t})))},valueOf:function(){return this.s.valueOf()},wrapHTML:function(t,e){var n=this.s,i=null==t?"span":t,r="";if("object"==typeof e)for(var s in e)r+=" "+s+'="'+new this.constructor(e[s]).escapeHTML()+'"';return n="".concat("<",i,r,">",this,"</",i,">"),new this.constructor(n)}},l=[];var d=function(){for(var t=function(){var t=[];if(Object.getOwnPropertyNames)return(t=Object.getOwnPropertyNames(u)).splice(t.indexOf("valueOf"),1),t.splice(t.indexOf("toString"),1),t;var e={};for(var n in String.prototype)e[n]=n;for(var n in Object.prototype)delete e[n];for(var n in e)t.push(n);return t}(),e={},n=0;n<t.length;++n){var i=t[n];if("to"!==i&&"toEnd"!==i){var r=u[i];try{var s=typeof r.apply("teststring");e[i]=s}catch(o){}}}return e}();for(var h in d)!function(t){var e=u[t];"function"==typeof e&&(c[t]||("string"===d[t]?c[t]=function(){return new this.constructor(e.apply(this,arguments))}:c[t]=e))}(h);function f(t){return new a(t)}c.repeat=c.times,c.include=c.contains,c.toInteger=c.toInt,c.toBool=c.toBoolean,c.decodeHTMLEntities=c.decodeHtmlEntities,c.constructor=a,f.extendPrototype=function(){for(var t in c)!function(t){var e=c[t];u.hasOwnProperty(t)||(l.push(t),u[t]=function(){return String.prototype.s=this,e.apply(this,arguments)})}(t)},f.restorePrototype=function(){for(var t=0;t<l.length;++t)delete String.prototype[l[t]];l.length=0},f.VERSION="3.3.3",f.TMPL_OPEN="{{",f.TMPL_CLOSE="}}",f.ENTITIES=r,void 0!==t.exports?t.exports=f:void 0===(i=function(){return f}.apply(e,[]))||(t.exports=i);var p={lt:"<",gt:">",quot:'"',apos:"'",amp:"&"};function g(t){var e,n,i=[],r=/^[A-Za-z0-9]+$/;for(t=m(t),n=0;n<t.length;++n)e=t.charAt(n),r.test(e)?i.push(e):"\\000"===e?i.push("\\000"):i.push("\\"+e);return i.join("")}function m(t){return null==t?"":""+t}var v={};for(var b in p)v[p[b]]=b;r={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,"OElig;":338,"oelig;":339,"Scaron;":352,"scaron;":353,"Yuml;":376,"fnof;":402,"circ;":710,"tilde;":732,"Alpha;":913,"Beta;":914,"Gamma;":915,"Delta;":916,"Epsilon;":917,"Zeta;":918,"Eta;":919,"Theta;":920,"Iota;":921,"Kappa;":922,"Lambda;":923,"Mu;":924,"Nu;":925,"Xi;":926,"Omicron;":927,"Pi;":928,"Rho;":929,"Sigma;":931,"Tau;":932,"Upsilon;":933,"Phi;":934,"Chi;":935,"Psi;":936,"Omega;":937,"alpha;":945,"beta;":946,"gamma;":947,"delta;":948,"epsilon;":949,"zeta;":950,"eta;":951,"theta;":952,"iota;":953,"kappa;":954,"lambda;":955,"mu;":956,"nu;":957,"xi;":958,"omicron;":959,"pi;":960,"rho;":961,"sigmaf;":962,"sigma;":963,"tau;":964,"upsilon;":965,"phi;":966,"chi;":967,"psi;":968,"omega;":969,"thetasym;":977,"upsih;":978,"piv;":982,"ensp;":8194,"emsp;":8195,"thinsp;":8201,"zwnj;":8204,"zwj;":8205,"lrm;":8206,"rlm;":8207,"ndash;":8211,"mdash;":8212,"lsquo;":8216,"rsquo;":8217,"sbquo;":8218,"ldquo;":8220,"rdquo;":8221,"bdquo;":8222,"dagger;":8224,"Dagger;":8225,"bull;":8226,"hellip;":8230,"permil;":8240,"prime;":8242,"Prime;":8243,"lsaquo;":8249,"rsaquo;":8250,"oline;":8254,"frasl;":8260,"euro;":8364,"image;":8465,"weierp;":8472,"real;":8476,"trade;":8482,"alefsym;":8501,"larr;":8592,"uarr;":8593,"rarr;":8594,"darr;":8595,"harr;":8596,"crarr;":8629,"lArr;":8656,"uArr;":8657,"rArr;":8658,"dArr;":8659,"hArr;":8660,"forall;":8704,"part;":8706,"exist;":8707,"empty;":8709,"nabla;":8711,"isin;":8712,"notin;":8713,"ni;":8715,"prod;":8719,"sum;":8721,"minus;":8722,"lowast;":8727,"radic;":8730,"prop;":8733,"infin;":8734,"ang;":8736,"and;":8743,"or;":8744,"cap;":8745,"cup;":8746,"int;":8747,"there4;":8756,"sim;":8764,"cong;":8773,"asymp;":8776,"ne;":8800,"equiv;":8801,"le;":8804,"ge;":8805,"sub;":8834,"sup;":8835,"nsub;":8836,"sube;":8838,"supe;":8839,"oplus;":8853,"otimes;":8855,"perp;":8869,"sdot;":8901,"lceil;":8968,"rceil;":8969,"lfloor;":8970,"rfloor;":8971,"lang;":9001,"rang;":9002,"loz;":9674,"spades;":9824,"clubs;":9827,"hearts;":9829,"diams;":9830}}).call(this)},39576:(t,e,n)=>{t.exports=n.p+"touch_modern_assets/55e75ccd8586292d0ac108257267b217.svg"},8215:(t,e,n)=>{"use strict";function i(){}n.r(e);const r=Array.isArray||function(t){return t instanceof Array};function s(t){return t&&t._isObservable}function o(t,e){for(var n=0;n<t.length;n++)if(!e(t[n]))return!1;return!0}function a(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return!0;return!1}function u(t,e){return-1!==f(t,e)}function c(t,e){for(var n,i=[],r=0;r<e.length;r++)t(n=e[r])&&i.push(n);return i}function l(t){return(e,n)=>t(n,e)}function d(t,e,n){for(var i=0;i<t.length;i++)e=n(e,t[i]);return e}function h(t){return t[0]}const f=Array.prototype.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1};function p(t){return"function"==typeof t}function g(t,e){for(var n,i=[],r=0;r<e.length;r++)n=e[r],i.push(t(n));return i}function m(t){return t.slice(1,t.length)}function v(t){return r(t)?t:[t]}function b(t){return"function"==typeof t?t:e=>t}var w={indexOf:f,indexWhere:function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1},head:h,always:function(t){return()=>t},negate:function(t){return function(e){return!t(e)}},empty:function(t){return 0===t.length},tail:m,filter:c,map:g,each:function(t,e){for(var n in t){if(Object.prototype.hasOwnProperty.call(t,n))e(n,t[n])}},toArray:v,contains:u,id:function(t){return t},last:function(t){return t[t.length-1]},all:o,any:a,without:function(t,e){return c((function(e){return e!==t}),e)},remove:function(t,e){var n=f(e,t);if(n>=0)return e.splice(n,1)},fold:d,flatMap:function(t,e){return d(e,[],(function(e,n){return e.concat(t(n))}))},bind:function(t,e){return function(){return t.apply(e,arguments)}},isFunction:p,toFunction:b,toString:function t(e){var n={}.hasOwnProperty;try{if(y++,null==e)return"undefined";if(p(e))return"function";if(r(e))return y>5?"[..]":"["+g(t,e).toString()+"]";if(null!=(null!=e?e.toString:void 0)&&e.toString!==Object.prototype.toString)return e.toString();if("object"==typeof e){if(y>5)return"{..}";var i=[];for(var s in e){if(!n.call(e,s))continue;let r=function(){try{return e[s]}catch(an){return an}}();i.push(t(s)+":"+t(r))}return"{"+i+"}"}return e}finally{y--}}},y=0;const S=void 0,_="<no-more>";function O(t,e){if(!e)throw new Error(t)}function P(t){return O("not a function : "+t,w.isFunction(t))}const M={setTimeout:(t,e)=>setTimeout(t,e),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t),clearTimeout:t=>clearTimeout(t),now:()=>(new Date).getTime()},E={scheduler:M};var x=void 0,A=[],D={},T=[],I=0,j={},C=!1;function k(t){t<=I||(T[t-1]||(T[t-1]=[[],0]),I=t)}function B(t,e){if(!x&&!C)return e();k(1);for(var n=0;n<I-1&&!N(t,T[n][0]);)n++;T[n][0].push([t,e]),x||L()}function N(t,e){for(var n=0;n<e.length;n++)if(e[n][0].id==t.id)return!0;return!1}function L(){let t=I;if(!t)return;let e=!C;C=!0;try{for(;I>=t;){var n=T[I-1];if(!n)throw new Error("Unexpected stack top: "+n);var[i,r]=n;if(!(r<i.length)){n[0]=[],n[1]=0;break}var[,s]=i[r];n[1]++,k(I+1);var o=!1;try{for(s(),o=!0;I>t&&0==T[I-1][0].length;)I--}finally{o||(T=[],I=0)}}}finally{e&&(C=!1)}}function R(t,e){if(x){var n=D[t.id];return void 0===n?(n=D[t.id]=[e],A.push(t)):n.push(e)}return e()}function F(t,e){var n=A[t],i=n.id,r=D[i];A.splice(t,1),delete D[i],e&&A.length>0&&U(n);for(var s=0;s<r.length;s++)(0,r[s])()}function U(t){if(!j[t.id]){for(var e,n=t.internalDeps(),i=0;i<n.length;i++){if(U(e=n[i]),D[e.id])F(w.indexOf(A,e),!1)}j[t.id]=!0}}var W={toString:function(){return w.toString({rootEvent:x,processingAfters:C,waiterObs:A,waiters:D,aftersStack:T,aftersStackHeight:I,flushed:j})},whenDoneWith:R,hasWaiters:function(){return A.length>0},inTransaction:function(t,e,n,i){if(x)return n.apply(e,i);x=t;try{var r=n.apply(e,i);!function(){for(;A.length>0;)F(0,!0);j={}}()}finally{x=void 0,L()}return r},currentEventId:function(){return x?x.id:void 0},wrappedSubscribe:function(t,e,n){P(n);let i=!1,r=!1,s=()=>{r=!0},o=()=>{i=!0,s()};return s=e((function(e){return B(t,(function(){i||n(e)===_&&o()})),S})),r&&s(),o},afterTransaction:B,soonButNotYet:function(t,e){x?R(t,e):E.scheduler.setTimeout(e,0)},isInTransaction:function(){return void 0!==x}};class Desc{constructor(t,e,n=[]){this._isDesc=!0,this.context=t,this.method=e,this.args=n}deps(){return this.cachedDeps||(this.cachedDeps=$([this.context].concat(this.args))),this.cachedDeps}toString(){let t=w.map(w.toString,this.args);return w.toString(this.context)+"."+w.toString(this.method)+"("+t+")"}}function z(t,e,...n){const i=t||e;return i&&i._isDesc?t||e:new Desc(t,e,n)}function $(t){return r(t)?w.flatMap($,t):s(t)?[t]:(null!=t?t._isSource:void 0)?[t.obs]:[]}const V=()=>S,H=()=>S;function q(t,e,n){return n.transform(function(t,e){let n=t;return(t,i)=>{var r=e(n,t),[s,o]=r;n=s;for(var a=S,u=0;u<o.length;u++){if((a=i(o[u]))===_)return a}return a}}(t,e),new Desc(n,"withStateMachine",[t,e]))}class Some{constructor(t){this._isSome=!0,this.isDefined=!0,this.value=t}getOrElse(t){return this.value}get(){return this.value}filter(t){return t(this.value)?new Some(this.value):G}map(t){return new Some(t(this.value))}forEach(t){t(this.value)}toArray(){return[this.value]}inspect(){return"Some("+this.value+")"}toString(){return this.inspect()}}const G={_isNone:!0,getOrElse:t=>t,get(){throw new Error("None.get()")},filter:()=>G,map:()=>G,forEach(){},isDefined:!1,toArray:()=>[],inspect:()=>"None",toString(){return this.inspect()}};function Y(){return G}var J=0;class Event{constructor(){this.id=++J,this.isEvent=!0,this._isEvent=!0,this.isEnd=!1,this.isInitial=!1,this.isNext=!1,this.isError=!1,this.hasValue=!1}filter(t){return!0}inspect(){return this.toString()}log(){return this.toString()}toNext(){return this}}class Value extends Event{constructor(t){if(super(),this.hasValue=!0,t instanceof Event)throw new Error$1("Wrapping an event inside other event");this.value=t}fmap(t){return this.apply(t(this.value))}filter(t){return t(this.value)}toString(){return w.toString(this.value)}log(){return this.value}}class Next extends Value{constructor(t){super(t),this.isNext=!0,this._isNext=!0}apply(t){return new Next(t)}}class Initial extends Value{constructor(t){super(t),this.isInitial=!0,this._isInitial=!0}apply(t){return new Initial(t)}toNext(){return new Next(this.value)}}class NoValue extends Event{constructor(){super(...arguments),this.hasValue=!1}fmap(t){return this}}class End extends NoValue{constructor(){super(...arguments),this.isEnd=!0}toString(){return"<end>"}}class Error$1 extends NoValue{constructor(t){super(),this.isError=!0,this.error=t}toString(){return"<error> "+w.toString(this.error)}}function K(t){return new Initial(t)}function Q(t){return new Next(t)}function Z(){return new End}function X(t){return t&&t._isEvent?t:Q(t)}function tt(t){return t.isError}function et(t){return t.hasValue}function nt(t){return t.isEnd}function it(t,e){return t===e}function rt(t,e,n){return e.transform(st(t),n||new Desc(e,"take",[t]))}function st(t){return(e,n)=>e.hasValue?--t>0?n(e):(0===t&&n(e),n(Z()),_):n(e)}function ot(t,e,n){let r,s=e,o=!1;return r=new Property(new Desc(t,"scan",[e,n]),(e=>{var a=!1,u=i,c=S;const l=function(){return a||(a=o=!0,(c=e(new Initial(s)))===_&&(u(),u=i)),c};return u=t.subscribeInternal((function(t){if(et(t)){if(o&&t.isInitial)return S;t.isInitial||l(),a=o=!0;var i=n(s,t.value);return s=i,e(t.apply(i))}return t.isEnd&&(c=l()),c!==_?e(t):c})),W.whenDoneWith(r,l),u}))}class CompositeUnsubscribe{constructor(t=[]){this.unsubscribed=!1,this.unsubscribe=w.bind(this.unsubscribe,this),this.unsubscribed=!1,this.subscriptions=[],this.starting=[];for(var e,n=0;n<t.length;n++)e=t[n],this.add(e)}add(t){if(!this.unsubscribed){var e=!1,n=i;this.starting.push(t);n=t(this.unsubscribe,(()=>{this.unsubscribed||(e=!0,this.remove(n),w.remove(t,this.starting))})),this.unsubscribed||e?n():this.subscriptions.push(n),w.remove(t,this.starting)}}remove(t){if(!this.unsubscribed)return void 0!==w.remove(t,this.subscriptions)?t():void 0}unsubscribe(){if(!this.unsubscribed){this.unsubscribed=!0;for(var t=this.subscriptions,e=0;e<t.length;e++)t[e]();this.subscriptions=[],this.starting=[]}}count(){return this.unsubscribed?0:this.subscriptions.length+this.starting.length}empty(){return 0===this.count()}}function at(t,e){return function(n){var r=!1,s=!1,o=i,a=S,u=function(){if(!r)return t.forEach((function(t){if(r=!0,(a=n(new Initial(t)))===_)return o(),o=i,i}))};return o=e((function(e){return e instanceof Value?e.isInitial&&!s?(t=new Some(e.value),S):(e.isInitial||u(),r=!0,t=new Some(e.value),n(e)):(e.isEnd&&(a=u()),a!==_?n(e):a)})),s=!0,u(),o}}function ut(t,e){return P(e),new Property(t,at(Y(),e))}function ct(t){const e=new EventStream(new Desc("Bacon","once",[t]),(function(n){return W.soonButNotYet(e,(function(){n(X(t)),n(Z())})),i}));return e}function lt(t,e,n={}){const i=e,r=[i],s=[],o=e._isProperty;let a=!1;const u=(o?ut:be)(n.desc||new Desc(e,"flatMap_",[t]),(function(e){const r=new CompositeUnsubscribe,u=[];function c(n){if(o&&n.isInitial){if(a)return S;a=!0}const i=ht(t(n));return s.push(i),r.add((function(t,n){return i.subscribeInternal((function(r){if(r.isEnd)return w.remove(i,s),function(){const t=u.shift();t&&c(t)}(),l(n),_;{r=r.toNext();const n=e(r);return n===_&&t(),n}}))}))}function l(t){return t(),r.empty()?e(Z()):S}return r.add((function(t,s){return i.subscribeInternal((function(t){return t.isEnd?l(s):t.isError&&!n.mapError?e(t):n.firstOnly&&r.count()>1?S:r.unsubscribed?_:(n.limit&&r.count()>n.limit?u.push(t):c(t),S)}))})),r.unsubscribe}));return u.internalDeps=function(){return s.length?r.concat(s):r},u}function dt(t){return"function"==typeof t?e=>et(e)?t(e.value):e:e=>t}function ht(t){return s(t)?t:ct(t)}function ft(t,e){return lt(e,t,{mapError:!0,desc:new Desc(t,"flatMapEvent",[e])})}class Source{constructor(t,e){this._isSource=!0,this.flatten=!0,this.ended=!1,this.obs=t,this.sync=e}subscribe(t){return this.obs.subscribeInternal(t)}toString(){return this.obs.toString()}markEnded(){this.ended=!0}mayHave(t){return!0}}class DefaultSource extends Source{consume(){return this.value}push(t){this.value=t}hasAtLeast(t){return!!this.value}}class ConsumingSource extends Source{constructor(t,e){super(t,e),this.flatten=!1,this.queue=[]}consume(){return this.queue.shift()}push(t){this.queue.push(t)}mayHave(t){return!this.ended||this.queue.length>=t}hasAtLeast(t){return this.queue.length>=t}}class BufferingSource extends Source{constructor(t){super(t,!0),this.queue=[]}consume(){const t=this.queue;return this.queue=[],{value:t}}push(t){return this.queue.push(t.value)}hasAtLeast(t){return!0}}function pt(t){return null!=t&&(t._isSource?t.sync:t._isEventStream)}function gt(t){return null!=t&&t._isSource?t:null!=t&&t._isProperty?new DefaultSource(t,!1):new ConsumingSource(t,!0)}function mt(){return new EventStream(z("Bacon","never"),(t=>(t(Z()),i)))}function vt(...t){return wt(ve,t)}function bt(...t){return wt(ut,t)}function wt(t,e){if(0===e.length)return mt();var[n,i]=function(t){var e=[],n=[];for(let c=0;c<t.length;c++){let[l,d]=t[c];for(var i,r={f:d,ixs:[]},s=!1,o=0;o<l.length;o++){i=l[o];var a=f(e,i);s||(s=pt(i)),a<0&&(e.push(i),a=e.length-1);for(var u=0;u<r.ixs.length;u++){let t=r.ixs[u];t.index===a&&t.count++}r.ixs.push({index:a,count:1})}if(l.length>0&&!s)throw new Error("At least one EventStream required, none found in "+l);l.length>0&&n.push(r)}return[g(gt,e),n]}(Ot(e));if(!n.length)return mt();var r=a(n,(t=>t.flatten))&&function(t,e=[]){function n(t){if(u(e,t))return!0;var i=t.internalDeps();return i.length?(e.push(t),a(i,n)):(e.push(t),!1)}return a(t,n)}(g((t=>t.obs),n)),s=t(new Desc("Bacon","when",Array.prototype.slice.call(e)),(function(t){var e=[],a=!1;function u(t){for(var e=0;e<t.ixs.length;e++){let i=t.ixs[e];if(!n[i.index].hasAtLeast(i.count))return!1}return!0}function l(t){for(var e=0;e<t.ixs.length;e++){let i=t.ixs[e];if(!n[i.index].mayHave(i.count))return!0}return!1}function d(t){return!t.source.flatten}return new CompositeUnsubscribe(g((function(h){return function(f){function p(){return W.whenDoneWith(s,m)}function g(){var r;if(void 0!==(r=e.pop()))for(var s,o=S,a=0;a<i.length;a++)if(u(s=i[a])){const i=[];for(var l=0;l<s.ixs.length;l++){let t=n[s.ixs[l].index].consume();if(!t)throw new Error("Event was undefined");i.push(t.value)}let a=s.f.apply(null,i);return o=t(r.e.apply(a)),e.length&&(e=c(d,e)),o===_?o:g()}return S}function m(){var e=g();a&&(o(n,Pt)||o(i,l))&&(e=_,t(Z())),e===_&&f()}return h.subscribe((function(n){var i=S;if(n.isEnd)a=!0,h.markEnded(),p();else if(n.isError)i=t(n);else{let t=n;h.push(t),h.sync&&(e.push({source:h,e:t}),r||W.hasWaiters()?p():m())}return i===_&&f(),i}))}}),n)).unsubscribe}));return s}function yt(t){for(var e=0,n=t.length,i=[];e<n;){let n=v(t[e++]),r=b(t[e++]);i.push([n,r])}return O("when: expecting arguments in the form (Observable+,function)+",n%2==0),i}function St(t){return t instanceof Array&&!s(t[t.length-1])}function _t(t){return t[0]instanceof Array}function Ot(t){let e=[];for(let n=0;n<t.length;n++){let i=t[n];if(!St(i))return yt(t);if(_t(i))e.push([i[0],b(i[1])]);else{let t=i.slice(0,i.length-1),n=b(i[i.length-1]);e.push([t,n])}}return e}function Pt(t){return!t.sync||t.ended}function Mt(t,e,n){return vt([new DefaultSource(e.toProperty(),!1),new DefaultSource(t,!0),l(n)]).withDesc(new Desc(t,"withLatestFrom",[e,n]))}function Et(t,e,n){return bt([new DefaultSource(e.toProperty(),!1),new DefaultSource(t,!0),l(n)]).withDesc(new Desc(t,"withLatestFrom",[e,n]))}function xt(t,e,n){if(t instanceof Property)return Et(t,e,n);if(t instanceof EventStream)return Mt(t,e,n);throw new Error("Unknown observable: "+t)}function At(t,e){return e instanceof Property?xt(t,e,((t,e)=>e)):t.transform(Dt(e),new Desc(t,"map",[e]))}function Dt(t){let e=w.toFunction(t);return(t,n)=>n(t.fmap(e))}function Tt(t){return new Property(new Desc("Bacon","constant",[t]),(function(e){return e(K(t)),e(Z()),i}))}function It(t){return t=Array.prototype.slice.call(t),w.flatMap(jt,t)}function jt(t){return s(t)?[t]:r(t)?It(t):[Tt(t)]}function Ct(t){return w.isFunction(t[0])?[It(Array.prototype.slice.call(t,1)),t[0]]:[It(Array.prototype.slice.call(t,0,t.length-1)),w.last(t)]}function kt(t,e){return wt(((t,n)=>new EventStream(t,n,void 0,e)),[w.map((t=>new BufferingSource(t)),t),function(...t){return t}]).withDesc(new Desc("Bacon","groupSimultaneous",t))}function Bt(...t){if((t=It(t)).length){for(var e=[],n=0;n<t.length;n++){let i=s(t[n])?t[n]:Tt(t[n]);e.push(Nt(i))}return bt([e,(...t)=>t]).withDesc(new Desc("Bacon","combineAsArray",t))}return Tt([])}function Nt(t){return new DefaultSource(t,!0)}function Lt(t,e){return lt(dt(e),t,{desc:new Desc(t,"flatMapConcat",[e]),limit:1})}function Rt(t,e=w.id){var n=new Desc("Bacon","fromBinder",[t,e]);return new EventStream(n,(function(n){var i=!1,s=!1,o=function(){if(!i)return null!=a?(a(),i=!0):s=!0},a=t((function(...t){var i=e(...t);let s=r(i)&&((a=w.last(i))&&a._isEvent)?i:[i];for(var a,u=S,c=0;c<s.length;c++){let t=X(s[c]);if((u=n(t))===_||t.isEnd)return o(),u}return u}));return s&&o(),o}))}function Ft(t,e){var n=new Desc("Bacon","fromPoll",[t,e]);return Rt((function(e){var n=E.scheduler.setInterval(e,t);return function(){return E.scheduler.clearInterval(n)}}),e).withDesc(n)}function Ut(t,e,n){return t instanceof EventStream?function(t,e,n){return Wt(t.toProperty(),e,n).withDesc(new Desc(t,"sampledBy",[e]))}(t,e,n):Wt(t,e,n)}function Wt(t,e,n){return xt(e,t,l(function(t){return"function"==typeof t?t:w.id}(n))).withDesc(new Desc(t,"sampledBy",[e]))}function zt(t,e){return Wt(t,function(t,e){return Ft(t,(function(){return Q(e)})).withDesc(new Desc("Bacon","interval",[t,e]))}(e,{}),((t,e)=>t)).withDesc(new Desc(t,"sample",[e]))}function $t(t,e,n){return new Property(new Desc(t,"transform",[e]),(n=>t.subscribeInternal((t=>e(t,n))))).withDesc(n)}function Vt(t,e){let n;const i=t=>e(t,n);return(e,r)=>(n=r,t(e,i))}function Ht(t,e,n,i){return e instanceof Property?xt(t,e,((t,e)=>[t,e])).transform(Vt(n((t=>t[1])),Dt((t=>t[0]))),i):t.transform(n(function(t){if("boolean"==typeof t)return w.always(t);if("function"!=typeof t)throw new Error("Not a function: "+t);return t}(e)),i)}function qt(t){return(e,n)=>e.filter(t)?n(e):S}function Gt(t){return t.map((t=>!t)).withDesc(new Desc(t,"not",[]))}function Yt(t){return ge(t)?t:Tt(t)}function Jt(t,e){return lt(dt(e),t,{firstOnly:!0,desc:new Desc(t,"flatMapFirst",[e])})}function Kt(t,e,n){return t.scan(e,n).last().withDesc(new Desc(t,"fold",[e,n]))}const Qt={};function Zt(t,e){return lt(dt(e),t,{desc:new Desc(t,"flatMap",[e])})}function Xt(t,e){return lt((t=>{if(t instanceof Error$1){let n=t.error;return e(n)}return t}),t,{mapError:!0,desc:new Desc(t,"flatMapError",[e])})}var te=[],ee=!1;function ne(t){if(te.length&&!ee)try{ee=!0,te.forEach((function(e){e(t)}))}finally{ee=!1}}function ie(t,e){let n=w.toFunction(e);var i=ge(t)?t.toEventStream(me):t;let r=Zt(i,(t=>ht(n(t)).takeUntil(i)));return ge(t)&&(r=r.toProperty()),r.withDesc(new Desc(t,"flatMapLatest",[n]))}class Dispatcher{constructor(t,e,n){this.pushing=!1,this.ended=!1,this.prevError=void 0,this.unsubSrc=void 0,this._subscribe=e,this._handleEvent=n,this.subscribe=w.bind(this.subscribe,this),this.handleEvent=w.bind(this.handleEvent,this),this.subscriptions=[],this.observable=t,this.queue=[]}hasSubscribers(){return this.subscriptions.length>0}removeSub(t){return this.subscriptions=w.without(t,this.subscriptions),this.subscriptions}push(t){return t.isEnd&&(this.ended=!0),W.inTransaction(t,this,this.pushIt,[t])}pushToSubscriptions(t){try{let e=this.subscriptions;const n=e.length;for(let i=0;i<n;i++){const n=e[i];(n.sink(t)===_||t.isEnd)&&this.removeSub(n)}return!0}catch(an){throw this.pushing=!1,this.queue=[],an}}pushIt(t){if(this.pushing)return this.queue.push(t),S;if(t!==this.prevError){for(t.isError&&(this.prevError=t),this.pushing=!0,this.pushToSubscriptions(t),this.pushing=!1;;){let t=this.queue.shift();if(!t)break;this.push(t)}return this.hasSubscribers()?S:(this.unsubscribeFromSource(),_)}}handleEvent(t){return this._handleEvent?this._handleEvent(t):this.push(t)}unsubscribeFromSource(){this.unsubSrc&&this.unsubSrc(),this.unsubSrc=void 0}subscribe(t){if(this.ended)return t(Z()),i;{P(t);let e={sink:t};return this.subscriptions.push(e),1===this.subscriptions.length&&(this.unsubSrc=this._subscribe(this.handleEvent),P(this.unsubSrc)),()=>{if(this.removeSub(e),!this.hasSubscribers())return this.unsubscribeFromSource()}}}inspect(){return this.observable.toString()}}class PropertyDispatcher extends Dispatcher{constructor(t,e,n){super(t,e,n),this.current=Y(),this.propertyEnded=!1,this.subscribe=w.bind(this.subscribe,this)}push(t){return t.isEnd&&(this.propertyEnded=!0),t instanceof Value?(this.current=new Some(t),this.currentValueRootId=W.currentEventId()):t.hasValue&&console.error("Unknown event, two Bacons loaded?",t.constructor),super.push(t)}maybeSubSource(t,e){return e===_?i:this.propertyEnded?(t(Z()),i):super.subscribe(t)}subscribe(t){var e=S;if(this.current.isDefined&&(this.hasSubscribers()||this.propertyEnded)){var n=W.currentEventId(),i=this.currentValueRootId;return!this.propertyEnded&&i&&n&&n!==i?(W.whenDoneWith(this.observable,(()=>{if(this.currentValueRootId===i)return t(K(this.current.get().value))})),this.maybeSubSource(t,e)):(W.inTransaction(void 0,this,(()=>e=t(K(this.current.get().value))),[]),this.maybeSubSource(t,e))}return this.maybeSubSource(t,e)}inspect(){return this.observable+" current= "+this.current}}function re(t,e,n){return lt(dt(n),t,{desc:new Desc(t,"flatMapWithConcurrencyLimit",[e,n]),limit:e})}function se(t,e,n){const r=function(t){if(void 0===t)return;if("number"==typeof t){var e=t;return function(t){return E.scheduler.setTimeout(t,e)}}return t}(e);function s(t){return t.values.length===n?t.flush():void 0!==r?t.schedule(r):void 0}var o=new Desc(t,"bufferWithTimeOrCount",[e,n]);return function(t,e=i,n=i){var r=S,s=new Buffer(n,e);return t.transform(((t,n)=>(s.push=n,et(t)?(s.values.push(t.value),e(s)):tt(t)?r=n(t):nt(t)&&(s.end=t,s.scheduled||s.flush()),r))).withDesc(new Desc(t,"buffer",[]))}(t,s,s).withDesc(o)}class Buffer{constructor(t,e){this.push=t=>S,this.scheduled=null,this.end=void 0,this.values=[],this.onFlush=t,this.onInput=e}flush(){if(this.scheduled&&(E.scheduler.clearTimeout(this.scheduled),this.scheduled=null),this.values.length>0){var t=this.values;this.values=[];var e=this.push(Q(t));if(null!=this.end)return this.push(this.end);if(e!==_)return this.onFlush(this)}else if(null!=this.end)return this.push(this.end)}schedule(t){if(!this.scheduled)return this.scheduled=t((()=>this.flush()))}}function oe(...t){let e=It(t);return e.length?new EventStream(new Desc("Bacon","mergeAll",e),(function(t){var n=0,i=g((function(i){return function(r){return i.subscribeInternal((function(i){if(i.isEnd)return++n===e.length?t(Z()):S;i=i.toNext();var s=t(i);return s===_&&r(),s}))}}),e);return new CompositeUnsubscribe(i).unsubscribe})):mt()}function ae(t,e){return Rt((function(n){var i=E.scheduler.setTimeout((function(){return n([X(e),Z()])}),t);return function(){return E.scheduler.clearTimeout(i)}})).withDesc(new Desc("Bacon","later",[t,e]))}function ue(t){return(e,n)=>e.filter(t)?n(e):(n(Z()),_)}function ce(t){var e=!1;return function(n,i){return!e&&et(n)&&t(n.value)?S:(n.hasValue&&(e=!0),i(n))}}function le(t,e,n=w.id){var i={};return t.transform(Vt(qt((t=>!i[e(t)])),Dt((function(r){var s=e(r),o=t.changes().filter((t=>e(t)===s)),a=ct(r).concat(o),u=n(a,r).toEventStream().transform(((t,e)=>{let n=e(t);return t.isEnd&&delete i[s],n}));return i[s]=u,u}))))}const de={};function he(t,e,n){return function(t,...e){var[e,t]=Ct(arguments);return vt([e=w.map((t=>t.toEventStream()),e),t]).withDesc(new Desc("Bacon","zipWith",[t].concat(e)))}(n||Array,t,e).withDesc(new Desc(t,"zip",[e]))}function fe(t){function e(t,e,n){return(function(t){return t[t.length-1]}(t))[e]=n,n}function n(t){return r(t)?[]:{}}function i(t){if(s(t))return!0;if(t&&(t.constructor==Object||t.constructor==Array))for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e)){if(i(t[e]))return!0}}function o(t,r){if(s(r))c.push(r),u.push(function(t,n){return function(i,r){e(i,t,r[n])}}(t,c.length-1));else if(i(r)){const i=function(t){t.pop()};u.push(function(t,i){return function(r){const s=n(i);e(r,t,s),r.push(s)}}(t,r)),a(r),u.push(i)}else u.push(function(t,n){return function(i){e(i,t,n)}}(t,r))}function a(t){w.each(t,o)}const u=[],c=[];return(i(t)?(a(t),Bt(c).map((function(e){const i=n(t),r=[i];for(var s=0;s<u.length;s++)(0,u[s])(r,e);return i}))):Tt(t)).withDesc(new Desc("Bacon","combineTemplate",[t]))}var pe=0;class Observable{constructor(t){this.id=++pe,this._isObservable=!0,this.desc=t,this.initialDesc=t}awaiting(t){return function(t,e){return kt([t,e],me).map((t=>0===t[1].length)).toProperty(!1).skipDuplicates().withDesc(new Desc(t,"awaiting",[e]))}(this,t)}bufferingThrottle(t){return function(t,e){var n=new Desc(t,"bufferingThrottle",[e]);return t.transformChanges(n,(t=>t.flatMapConcat((t=>ct(t).concat(ae(e,t).errors())))))}(this,t)}combine(t,e){return function(t,e,n){return bt([[Nt(t),Nt(e)],n]).withDesc(new Desc(t,"combine",[e,n]))}(this,t,e).withDesc(new Desc(this,"combine",[t,e]))}debounce(t){return function(t,e){return t.transformChanges(new Desc(t,"debounce",[e]),(function(t){return t.flatMapLatest((function(t){return ae(e,t)}))}))}(this,t)}debounceImmediate(t){return function(t,e){return t.transformChanges(new Desc(t,"debounceImmediate",[e]),(function(t){return t.flatMapFirst((function(t){return ct(t).concat(ae(e,t).errors())}))}))}(this,t)}decode(t){return function(t,e){return t.combine(fe(e),((t,e)=>e[t])).withDesc(new Desc(t,"decode",[e]))}(this,t)}delay(t){return function(t,e){return t.transformChanges(new Desc(t,"delay",[e]),(function(t){return t.flatMap((function(t){return ae(e,t)}))}))}(this,t)}deps(){return this.desc.deps()}diff(t,e){return function(t,e,n){return $t(ot(t,[e,de],((t,e)=>[e,n(t[0],e)])),Vt(qt((t=>t[1]!==de)),Dt((t=>t[1]))),new Desc(t,"diff",[e,n]))}(this,t,e)}doAction(t){return this.transform(function(t){return(e,n)=>(et(e)&&t(e.value),n(e))}(t),new Desc(this,"doAction",[t]))}doEnd(t){return this.transform(function(t){return(e,n)=>(nt(e)&&t(),n(e))}(t),new Desc(this,"doEnd",[t]))}doError(t){return this.transform(function(t){return(e,n)=>(tt(e)&&t(e.error),n(e))}(t),new Desc(this,"doError",[t]))}doLog(...t){return this.transform(function(t){return(e,n)=>("undefined"!=typeof console&&null!==console&&"function"==typeof console.log&&console.log(...t.concat([e.log()])),n(e))}(t),new Desc(this,"doLog",t))}endAsValue(){return this.transform(((t,e)=>nt(t)?(e(Q({})),e(Z()),_):S))}endOnError(t=t=>!0){return function(t,e=t=>!0){return t.transform(((t,n)=>tt(t)&&e(t.error)?(n(t),n(Z())):n(t)),new Desc(t,"endOnError",[]))}(this,t)}errors(){return this.filter((t=>!1)).withDesc(new Desc(this,"errors"))}filter(t){return function(t,e){return Ht(t,e,qt,new Desc(t,"filter",[e]))}(this,t)}first(){return rt(1,this,new Desc(this,"first"))}firstToPromise(t){return function(t,e){const n=(e,n)=>t.subscribe((t=>(et(t)&&e(t.value),tt(t)&&n(t.error),_)));if("function"==typeof e)return new e(n);if("function"==typeof Promise)return new Promise(n);throw new Error("There isn't default Promise, use shim or parameter")}(this,t)}fold(t,e){return Kt(this,t,e)}forEach(t=V){return this.onValue(t)}holdWhen(t){return function(t,e){var n=!1,i=[],r=!1;return new EventStream(new Desc(t,"holdWhen",[e]),(function(s){var o=new CompositeUnsubscribe,a=!1,u=function(t){return t&&t(),o.empty()&&a?s(Z()):S};return o.add((function(t,o){return e.subscribeInternal((function(t){if(et(t)){n=t.value;var e=S;if(!n){var a=i;i=[];for(var c=0;c<a.length;c++)e=s(Q(a[c]));r&&(s(Z()),o(),e=_)}return e}return t.isEnd?u(o):s(t)}))})),o.add((function(e,o){return t.subscribeInternal((function(t){return n&&et(t)?(i.push(t.value),S):t.isEnd&&i.length?(r=!0,u(o)):s(t)}))})),a=!0,u(),o.unsubscribe}))}(this,t)}inspect(){return this.toString()}internalDeps(){return this.initialDesc.deps()}last(){return(t=this).transform((function(t,n){return nt(t)?(e&&n(e),n(Z()),_):et(t)?(e=t,S):n(t)})).withDesc(new Desc(t,"last",[]));var t,e}log(...t){return function(t,e){e.subscribe((function(e){return"undefined"!=typeof console&&"function"==typeof console.log&&console.log(...t.concat([e.log()])),S}))}(t,this),this}mapEnd(t){return this.transform(function(t){let e=w.toFunction(t);return function(t,n){return nt(t)?(n(Q(e(t))),n(Z()),_):n(t)}}(t),new Desc(this,"mapEnd",[t]))}mapError(t){return this.transform(function(t){let e=w.toFunction(t);return function(t,n){return tt(t)?n(Q(e(t.error))):n(t)}}(t),new Desc(this,"mapError",[t]))}name(t){return this._name=t,this}onEnd(t=H){return this.subscribe((function(e){return e.isEnd?t():S}))}onError(t=V){return this.subscribe((function(e){return tt(e)?t(e.error):S}))}onValue(t=V){return this.subscribe((function(e){return et(e)?t(e.value):S}))}onValues(t){return this.onValue((function(e){return t(...e)}))}reduce(t,e){return Kt(this,t,e)}sampledBy(t){return Ut(this,t,arguments[1])}scan(t,e){return ot(this,t,e)}skip(t){return function(t,e){return t.transform(((t,n)=>t.hasValue&&e>0?(e--,S):n(t)),new Desc(t,"skip",[e]))}(this,t)}skipDuplicates(t){return function(t,e=it){let n=new Desc(t,"skipDuplicates",[]);return q(Y(),(function(t,n){return et(n)?n.isInitial||null!=(i=t)&&i._isNone||!e(t.get(),n.value)?[new Some(n.value),[n]]:[t,[]]:[t,[n]];var i}),t).withDesc(n)}(this,t)}skipErrors(){return(t=this).transform((function(t,e){return tt(t)?S:e(t)}),new Desc(t,"skipErrors",[]));var t}skipUntil(t){return function(t,e){var n=e.transform(Vt(st(1),Dt(!0))).toProperty().startWith(!1);return t.filter(n).withDesc(new Desc(t,"skipUntil",[e]))}(this,t)}skipWhile(t){return function(t,e){return Ht(t,e,ce,new Desc(t,"skipWhile",[e]))}(this,t)}slidingWindow(t,e=0){return function(t,e,n=0){return t.scan([],(function(t,n){return t.concat([n]).slice(-e)})).filter((function(t){return t.length>=n})).withDesc(new Desc(t,"slidingWindow",[e,n]))}(this,t,e)}subscribe(t=V){return W.wrappedSubscribe(this,(t=>this.subscribeInternal(t)),t)}take(t){return rt(t,this)}takeUntil(t){return function(t,e){let n=kt([t.mapEnd(Qt),e.skipErrors()],me);return t instanceof Property&&(n=n.toProperty()),n.transform((function(t,e){if(et(t)){var[n,i]=t.value;if(i.length)return e(Z());for(var r=S,s=0;s<n.length;s++){let t=n[s];if(t===Qt)return e(Z());r=e(Q(t))}return r}return e(t)}),new Desc(t,"takeUntil",[e]))}(this,t)}takeWhile(t){return function(t,e){return Ht(t,e,ue,new Desc(t,"takeWhile",[e]))}(this,t)}throttle(t){return function(t,e){return t.transformChanges(new Desc(t,"throttle",[e]),(t=>t.bufferWithTime(e).map((t=>t[t.length-1]))))}(this,t)}toPromise(t){return function(t,e){return t.last().firstToPromise(e)}(this,t)}toString(){return this._name?this._name:this.desc.toString()}withDesc(t){return t&&(this.desc=t),this}withDescription(t,e,...n){return this.desc=z(t,e,...n),this}zip(t,e){return he(this,t,e)}}class Property extends Observable{constructor(t,e,n){super(t),this._isProperty=!0,P(e),this.dispatcher=new PropertyDispatcher(this,e,n),ne(this)}and(t){return n=t,(e=this).combine(Yt(n),((t,e)=>!(!t||!e))).withDesc(new Desc(e,"and",[n]));var e,n}changes(){return new EventStream(new Desc(this,"changes",[]),(t=>this.dispatcher.subscribe((function(e){return e.isInitial?S:t(e)}))))}concat(t){return this.transformChanges(z(this,"concat",t),(e=>e.concat(t)))}transformChanges(t,e){return function(t,e,n){let i,r;const s=e(new EventStream(z(t,"changes",[]),(e=>t.dispatcher.subscribe((function(t){var n;return!i&&(n=t)&&n._isInitial&&(i=t,W.whenDoneWith(o,(function(){if(!r)throw new Error("Init sequence fail");r(i)}))),t.isInitial?S:e(t)}))),void 0,me)),o=ut(n,(t=>(r=t,s.dispatcher.subscribe((function(e){t(e)})))));return o}(this,e,t)}flatMap(t){return Zt(this,t)}flatMapConcat(t){return Lt(this,t)}flatMapError(t){return Xt(this,t)}flatMapEvent(t){return ft(this,t)}flatMapFirst(t){return Jt(this,t)}flatMapLatest(t){return ie(this,t)}flatMapWithConcurrencyLimit(t,e){return re(this,t,e)}groupBy(t,e){return le(this,t,e)}map(t){return At(this,t)}not(){return Gt(this)}or(t){return n=t,(e=this).combine(Yt(n),((t,e)=>t||e)).withDesc(new Desc(e,"or",[n]));var e,n}sample(t){return zt(this,t)}startWith(t){return function(t,e){return t.scan(e,((t,e)=>e)).withDesc(new Desc(t,"startWith",[e]))}(this,t)}subscribeInternal(t=V){return this.dispatcher.subscribe(t)}toEventStream(t){return new EventStream(new Desc(this,"toEventStream",[]),(t=>this.subscribeInternal((function(e){return t(e.toNext())}))),void 0,t)}toProperty(){return O("no arguments supported",0===arguments.length),this}transform(t,e){return $t(this,t,e)}withLatestFrom(t,e){return Et(this,t,e)}withStateMachine(t,e){return q(t,e,this)}}function ge(t){return!!t._isProperty}const me={forceAsync:!1};class EventStream extends Observable{constructor(t,e,n,i){super(t),this._isEventStream=!0,i!==me&&(e=function(t,e){var n=!1;return function(i){const r=W.isInTransaction();var s;function o(){var t=s||[];s=void 0;for(var e=0;e<t.length;e++){var n=t[e];i(n)}}n=!0;try{return e((function(e){return n||s?(s?s.push(e):(s=[e],r?W.soonButNotYet(t,o):E.scheduler.setTimeout(o,0)),S):i(e)}))}finally{n=!1}}}(this,e)),this.dispatcher=new Dispatcher(this,e,n),ne(this)}bufferWithTime(t){return function(t,e){return se(t,e,Number.MAX_VALUE).withDesc(new Desc(t,"bufferWithTime",[e]))}(this,t)}bufferWithCount(t){return function(t,e){return se(t,void 0,e).withDesc(new Desc(t,"bufferWithCount",[e]))}(this,t)}bufferWithTimeOrCount(t,e){return se(this,t,e)}changes(){return this}concat(t,e){return function(t,e,n){return new EventStream(new Desc(t,"concat",[e]),(function(n){var r=i,s=t.dispatcher.subscribe((function(t){return t.isEnd?(r=e.toEventStream().dispatcher.subscribe(n),S):n(t)}));return function(){return s(),r()}}),void 0,n)}(this,t,e)}transformChanges(t,e){return e(this).withDesc(t)}flatMap(t){return Zt(this,t)}flatMapConcat(t){return Lt(this,t)}flatMapError(t){return Xt(this,t)}flatMapFirst(t){return Jt(this,t)}flatMapLatest(t){return ie(this,t)}flatMapWithConcurrencyLimit(t,e){return re(this,t,e)}flatMapEvent(t){return ft(this,t)}flatScan(t,e){return function(t,e,n){let i=e;return t.flatMapConcat((t=>ht(n(i,t)).doAction((t=>i=t)))).toProperty().startWith(e).withDesc(new Desc(t,"flatScan",[e,n]))}(this,t,e)}groupBy(t,e){return le(this,t,e)}map(t){return At(this,t)}merge(t){return function(t){if(!(null!=t?t._isEventStream:void 0))throw new Error("not an EventStream : "+t)}(t),oe(this,t).withDesc(new Desc(this,"merge",[t]))}not(){return Gt(this)}startWith(t){return function(t,e){return ct(e).concat(t).withDesc(new Desc(t,"startWith",[e]))}(this,t)}subscribeInternal(t=V){return this.dispatcher.subscribe(t)}toEventStream(){return this}toProperty(t){let e=arguments.length?(n=t)&&(n._isSome||n._isNone)?n:new Some(n):Y();var n;let i=this.dispatcher,r=new Desc(this,"toProperty",Array.prototype.slice.apply(arguments)),s=i.subscribe;return new Property(r,at(e,s))}transform(t,e){return function(t,e,n){return new EventStream(new Desc(t,"transform",[e]),(n=>t.subscribeInternal((t=>e(t,n)))),void 0,me).withDesc(n)}(this,t,e)}withLatestFrom(t,e){return Mt(this,t,e)}withStateMachine(t,e){return q(t,e,this)}}function ve(t,e){return new EventStream(t,e)}function be(t,e){return new EventStream(t,e,void 0,me)}function we(t){return"undefined"!=typeof Symbol&&Symbol[t]?Symbol[t]:"undefined"!=typeof Symbol&&"function"==typeof Symbol.for?Symbol[t]=Symbol.for(t):"@@"+t}class ESObservable{constructor(t){this.observable=t}subscribe(t,e,n){const i="function"==typeof t?{next:t,error:e,complete:n}:t,r={closed:!1,unsubscribe:function(){r.closed=!0,s()}},s=this.observable.subscribe((function(t){et(t)&&i.next?i.next(t.value):tt(t)?(i.error&&i.error(t.error),r.unsubscribe()):t.isEnd&&(r.closed=!0,i.complete&&i.complete())}));return r}}ESObservable.prototype[we("observable")]=function(){return this},Observable.prototype.toESObservable=function(){return new ESObservable(this)},Observable.prototype[we("observable")]=Observable.prototype.toESObservable;function ye(t){return[X(t),Z()]}function Se(t,e,n=ye){return Rt((function(n){const i=t.then(n,(t=>n(new Error$1(t))));return i&&"function"==typeof i.done&&i.done(),e?function(){if("function"==typeof t.abort)return t.abort()}:function(){}}),n).withDesc(new Desc("Bacon","fromPromise",[t]))}_e=function(t,...e){return w.isFunction(t)?e.length?function(t,e){return function(...n){return t(...e.concat(n))}}(t,e):t:w.always(t)};var _e;var Oe=n(46880),Pe=n.n(Oe);const Me=2===chrome.runtime.getManifest().manifest_version,Ee=Me?browser:chrome,xe=Pe().getParser(navigator.userAgent),Ae=xe.getBrowserName(!0),De=xe.getOSName(!0),Te="safari"===Ae,Ie="firefox"===Ae,je="yandex browser"===Ae,Ce="macos"===De;async function ke(){try{var t,e;if("function"==typeof(null===(e=globalThis.yandex)||void 0===e||null===(t=e.ecomData)||void 0===t?void 0:t.getVersion)){return await globalThis.yandex.ecomData.getVersion()??xe.getBrowserVersion()}return xe.getBrowserVersion()}catch{return xe.getBrowserVersion()}}const Be=Me?"browserAction":"action";function Ne(t,e){return new Promise(((n,i)=>{Ee[Be].setIcon({tabId:t,path:e},(()=>{Ee.runtime.lastError?i(Ee.runtime.lastError.message):n()}))}))}function Le(t,e){return Ee[Be].setBadgeText({text:t??"",tabId:e})}async function Re(){let t=await Fe({active:!0,currentWindow:!0});0===t.length&&(t=await Fe({active:!0,lastFocusedWindow:!0}));return t[0]}function Fe(t){return Ee.tabs.query(t)}const Ue=null!=Ee.storage.session;async function We(t){return(await Ee.storage.local.get(t))[t]}function ze(t,e){return Ee.storage.session.set({[t]:e})}const $e="extensionConfig";async function Ve(){return(await Ee.storage.local.get($e))[$e]}async function He(t){var e;const n=await Ve();return null==n||null===(e=n.features)||void 0===e?void 0:e[t]}async function qe(t){return He(t).then((t=>null==t?void 0:t[0]))}const Ge="extensionOffersMap";let Ye;async function Je(){if(null!=Ye)return Ye;if(Ue){const t=await async function(t){return(await Ee.storage.session.get(t))[t]}(Ge);if(null!=t)return Ye=t,t}const t=await We(Ge);return Ye=t,Ue&&null!=t&&await ze(Ge,t),t}const Ke="cbActivations";function Qe(){return Xe().get(Ke).then((t=>t[Ke]??{})).catch((()=>({})))}async function Ze(t,e,n){const i=await Qe();n?(i[e]??(i[e]={}),i[e][t]=!0):null!=i[e]&&(delete i[e][t],0===Object.keys(i[e]).length&&delete i[e]),await Xe().set({[Ke]:i})}function Xe(){return Ee.storage.session??Ee.storage.local}const tn=2147483647,en=36,nn=/^xn--/,rn=/[\x2E\u3002\uFF0E\uFF61]/g,sn={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},on=Math.floor;String.fromCharCode;function an(t){throw new RangeError(sn[t])}function un(t,e){const n=t.split("@");let i="";n.length>1&&(i=n[0]+"@",t=n[1]);const r=function(t,e){const n=[];let i=t.length;for(;i--;)n[i]=e(t[i]);return n}((t=t.replace(rn,".")).split("."),e).join(".");return i+r}const cn=function(t,e,n){let i=0;for(t=n?on(t/700):t>>1,t+=on(t/e);t>455;i+=en)t=on(t/35);return on(i+36*t/(t+38))},ln=function(t){const e=[],n=t.length;let i=0,r=128,s=72,o=t.lastIndexOf("-");o<0&&(o=0);for(let u=0;u<o;++u)t.charCodeAt(u)>=128&&an("not-basic"),e.push(t.charCodeAt(u));for(let u=o>0?o+1:0;u<n;){const o=i;for(let e=1,r=en;;r+=en){u>=n&&an("invalid-input");const o=(a=t.charCodeAt(u++))>=48&&a<58?a-48+26:a>=65&&a<91?a-65:a>=97&&a<123?a-97:en;o>=en&&an("invalid-input"),o>on((tn-i)/e)&&an("overflow"),i+=o*e;const c=r<=s?1:r>=s+26?26:r-s;if(o<c)break;const l=en-c;e>on(tn/l)&&an("overflow"),e*=l}const c=e.length+1;s=cn(i-o,c,0==o),on(i/c)>tn-r&&an("overflow"),r+=on(i/c),i%=c,e.splice(i++,0,r)}var a;return String.fromCodePoint(...e)},dn=function(t){return un(t,(function(t){return nn.test(t)?ln(t.slice(4).toLowerCase()):t}))};async function hn(){const[t,e]=await Promise.all([ke(),qe("yaBroVersionFunctionalityRestrict")]);return!(!je||0===t.length||null==e||0===e.length)&&function(t,e){if(t.startsWith(`${e}-`))return-1;if(e.startsWith(`${t}-`))return 1;return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"case",caseFirst:"upper"})}(t,e)>=0}class UnicodeURL extends URL{get hostname(){return dn(super.hostname)}}const fn=Rt((t=>{const e=(e,n,i)=>{t({message:e,sender:n,sendResponse:i})};return Ee.runtime.onMessage.addListener(e),()=>Ee.runtime.onMessage.removeListener(e)})),pn=function(){let t,e,n,i;const r=()=>{n()};return new Promise((async s=>{if(n=s,null==Ee.storage.session)return void n();e=setTimeout((()=>{Ee.tabs.onCreated.addListener(r)}),1e3),i=fn.take(1).onValue((()=>n()));const o="extensionInstalled",a="browserStartTime",[u,c]=await Promise.all([Ee.storage.local.get(o).then((t=>t[o]??!1)),Ee.storage.session.get(a).then((t=>t[a]))]);if(!u)return await Ee.storage.local.set({[o]:!0}),void n();const l=Date.now(),d=l-(c??l);d>=25e3?n():(null==c&&await Ee.storage.session.set({[a]:l}).catch(),t=setTimeout((()=>n()),25e3-d))})).finally((()=>{clearTimeout(t),clearTimeout(e),Ee.tabs.onCreated.removeListener(r),i()}))}(),gn=Se(pn),mn=Rt((t=>{const e=e=>t({tabId:e.tabId,transitionType:"tab_switch"}),n=e=>t({tabId:e,transitionType:"tab_update"});return Ee.tabs.onActivated.addListener(e),Te&&Ee.tabs.onUpdated.addListener(n),()=>{Ee.tabs.onActivated.removeListener(e),Te&&Ee.tabs.onUpdated.removeListener(n)}}));function vn(t){return Rt((e=>{const n=t=>{0===t.frameId&&e(t)},i=Me?void 0:{url:[]};return Ee.webNavigation.onCommitted.addListener(n,t??i),()=>Ee.webNavigation.onCommitted.removeListener(n)}))}function bn(t,e){return e}qe("useEdadealAsProxy").then((t=>t??!0));const wn=bn(0,"https://wbplugin.edadeal.yandex.ru/api/v1"),yn=(bn(0,"https://wbplugin.edadeal.ru/api/v1"),bn(0,"https://config.edadeal.yandex.ru/api/v1")),Sn=(bn(0,"https://ocb.yandex.ru"),bn(0,"https://edadeal.ru"),bn(0,"https://passport.yandex.ru/auth"),bn(0,"https://id.yandex.ru/"),{"X-Os-Version":"1.0.0","X-App-Version":"1.17.0","X-App-Id":"cb-extension","X-Platform":"extension"});function _n(t,e){return e={credentials:"include",headers:{...Sn},...e},fetch(t,e)}const On=function(){let t=new AbortController;return(e,n=void 0)=>(t.abort(),t=new AbortController,_n(e,n={...n,signal:t.signal}))}();function Pn(t,e){return Se(async function(t,e){const{transitionType:n,transitionQualifiers:i,tabId:r,url:s}=t,o=await Re(),a=(null==o?void 0:o.id)===r,u=xn(s)??"";return{url:s,tabId:r,domain:u,transitionType:n,transitionQualifiers:i,isTabActive:a,isNewDomain:An(t,u,e)}}(e,null==t?void 0:t.domain))}async function Mn(t){const e=await Re();return{url:(null==e?void 0:e.url)??"",tabId:t.tabId,transitionType:t.transitionType,transitionQualifiers:[]}}function En(t){return{url:(null==t?void 0:t.url)??"",tabId:(null==t?void 0:t.id)??0,transitionType:"tab_switch",transitionQualifiers:[]}}function xn(t){if(/^https?:\/\//.test(t))try{return new UnicodeURL(t).hostname}catch{return null}return null}function An(t,e,n){const{transitionType:i,transitionQualifiers:r}=t;if(e!==n&&"tab_switch"!==i)return!0;return["reload","start_page","typed"].includes(i)&&!r.some((t=>"forward_back"===t))}async function Dn(t){return n(7319),(await n(3489)(`./${t}`)).default}function Tn(t,e){return new Promise(((n,i)=>(null!=e&&(e.abort=i),setTimeout(n,t))))}const In=new class Bus extends EventStream{constructor(){super(new Desc("Bacon","Bus",[]),(t=>this.subscribeAll(t))),this.pushing=!1,this.pushQueue=void 0,this.ended=!1,this.subscriptions=[],this.unsubAll=w.bind(this.unsubAll,this),this.push=w.bind(this.push,this),this.subscriptions=[],this.ended=!1}plug(t){if(function(t){if(!(null!=t?t._isObservable:void 0))throw new Error("not an Observable : "+t)}(t),!this.ended){var e={input:t,unsub:void 0};return this.subscriptions.push(e),void 0!==this.sink&&this.subscribeInput(e),()=>this.unsubscribeInput(t)}}end(){if(this.ended=!0,this.unsubAll(),"function"==typeof this.sink)return this.sink(Z())}push(t){if(!this.ended&&"function"==typeof this.sink){var e=!this.pushing;if(!e)return this.pushQueue||(this.pushQueue=[]),void this.pushQueue.push(t);this.pushing=!0;try{return this.sink(Q(t))}finally{if(e&&this.pushQueue){for(var n=0;n<this.pushQueue.length;){var i=this.pushQueue[n];this.sink(Q(i)),n++}this.pushQueue=void 0}this.pushing=!1}}}error(t){if("function"==typeof this.sink)return this.sink(new Error$1(t))}unsubAll(){for(var t,e=this.subscriptions,n=0;n<e.length;n++)"function"==typeof(t=e[n]).unsub&&t.unsub()}subscribeAll(t){if(this.ended)t(Z());else{this.sink=t;for(var e,n=this.subscriptions.slice(),i=0;i<n.length;i++)e=n[i],this.subscribeInput(e)}return this.unsubAll}guardedSink(t){return e=>e.isEnd?(this.unsubscribeInput(t),_):this.sink?this.sink(e):S}subscribeInput(t){return t.unsub=t.input.subscribeInternal(this.guardedSink(t.input)),t.unsub}unsubscribeInput(t){for(var e,n=this.subscriptions,i=0;i<n.length;i++)if((e=n[i]).input===t)return"function"==typeof e.unsub&&e.unsub(),void this.subscriptions.splice(i,1)}};async function jn(){try{const t=await async function(){const t=`${yn}/config`,e=await _n(t);if(!e.ok)throw new Error(`Bad response status: ${e.status}`);if(204===e.status)return null;const n=await e.json(),i=(n.config.features??[]).reduce(((t,{name:e,value:n})=>(t[e]=n,t)),{});return{...n.config,features:i}}();null!=t&&(await async function(t){await Ee.storage.local.set({[$e]:t})}(t),In.push("configSet"))}catch(t){console.error(t)}}async function Cn(t){try{const n=await async function(t=!0){const e=`${wn}/offers/map?personalization=${t}`,n=await On(e),{status:i}=n;if(204===i)return null;if(410===i)throw new Error("Unsupported App Version");if(!n.ok)throw new Error(`Bad response status: ${n.status}`);return n.json()}(t);if(null!=n){const t=(e=n.domains,Object.entries(e).reduce(((t,[e,n])=>{var i;const r=e.split(".").reverse();let s=t,o=null;for(const a of r)(i=s.trie)[a]??(i[a]={trie:{}}),o=s,s=s.trie[a];return s.offersCount=n.offersCount,"*"===r[r.length-1]&&null!=o&&(o.offersCount=n.offersCount),t}),{trie:{}}));await async function(t){const e=[(n=Ge,i=t,Ee.storage.local.set({[n]:i}))];var n,i;Ue&&e.push(ze(Ge,t)),await Promise.all(e),Ye=t}(t)}}catch(n){console.error(n)}var e}function kn(t){const{uuid:e,returnPageUrl:n,uniqueQueryParam:i}=t,r=new URL(n).hostname,s=function(t,e){const{hostname:n,pathname:i}=new URL(t);return vn({url:[{hostEquals:n,pathEquals:i,queryContains:e}]}).take(1)}(n,i);return s.map({uuid:e,domain:r})}class ExtensionApiStorageSyncEngine{get(t){return Ee.storage[this.getStorageType()].get(t).then((({[t]:e})=>e))}set(t,e){return Ee.storage[this.getStorageType()].set({[t]:e})}}class LocalStorageSyncEngine extends ExtensionApiStorageSyncEngine{getStorageType(){return"local"}}const Bn=new LocalStorageSyncEngine,Nn=new LocalStorageSyncEngine,Ln=new class SessionStorageSyncEngine extends ExtensionApiStorageSyncEngine{getStorageType(){return"session"}};class StorageSyncDriver{constructor(t,e){this.isWriting=!1,this.key=t,this.engine=e??Bn}async get(){return this.engine.get(this.key)}async set(t){this.isWriting=!0,await this.engine.set(this.key,t).finally((()=>{this.isWriting=!1}))}async update(t,e=this.pushToBuffer.bind(this),n=this.mergeStoredWithBuffer.bind(this)){if(this.saveBuffer=e(this.saveBuffer,t),this.isWriting)return;let i;this.isWriting=!0;try{const t=await this.engine.get(this.key),{saveBuffer:e}=this;this.saveBuffer=void 0,i=n(t,e),await this.engine.set(this.key,i)}catch(r){throw this.saveBuffer=i,r}finally{this.isWriting=!1}}async pop(t,e=this.filter.bind(this)){if(this.popBuffer=[...this.popBuffer??[],t],this.isWriting)return;let n,i;this.isWriting=!0;try{const t=await this.engine.get(this.key);i=this.popBuffer,this.popBuffer=void 0,n=e(t,i),await this.engine.set(this.key,n)}catch(r){throw this.popBuffer=i,r}finally{this.isWriting=!1}}pushToBuffer(t,e){throw new Error("StorageSyncDriver.pushToBuffer() is not implemented!")}mergeStoredWithBuffer(t,e){throw new Error("StorageSyncDriver.mergeStoredWithBuffer() is not implemented!")}filter(t,e){throw new Error("StorageSyncDriver.filter() is not implemented!")}}class ArrayStorageSyncDriver extends StorageSyncDriver{pushToBuffer(t,e){return[...t??[],e]}mergeStoredWithBuffer(t,e){return[...t??[],...e??[]]}filter(t,e){return e?null==t?void 0:t.filter((t=>!e.includes(t))):t}}class DictionaryStorageSyncDriver extends StorageSyncDriver{pushToBuffer(t,e){return{...t,[e[0]]:e[1]}}mergeStoredWithBuffer(t,e){return{...t,...e}}filter(t,e){if(!e||!t)return t;const n=t;return e.forEach((t=>{delete n[t]})),n}}class SimpleStorageSyncDriver extends StorageSyncDriver{pushToBuffer(t,e){return e}mergeStoredWithBuffer(t,e){return e}filter(t,e){}}const Rn=70,Fn=20,Un=[1,1e3,1,1e4],Wn=2800;function zn(){let t="";for(let e=0;e<8;++e){t+=Math.floor(65536*Math.random()).toString(16).padStart(4,"0"),e>=1&&e<=4&&(t+="-")}return t}let $n;async function Vn(){return null!=$n?$n:Ee.storage.local.get("extensionUuid").then((async({extensionUuid:t})=>null!=t?($n=t,t):($n=await async function(){return $n=zn(),await Ee.storage.local.set({extensionUuid:$n}),$n}(),$n)))}var Hn=n(16291),qn=n.n(Hn);class BaseBebr{constructor(t){this.sender=t.sender,this.pages=t.pages,this.routePagesComponents=t.routePagesComponents}sendEvent(t,e){const n="observable"in e,i={};n&&!1===e.manual&&(i.block_id=e.id,i.parent_id=e.parentId),this.sender.send({...i,path:n?this.buildPath(e):this.buildRawPath(e),vars:this.convertToBebrLike(e),user_timestamp:n?e.eventTimestamp:Date.now(),event_type:this.getNormalizedEventType(t),event_index:0})}getNormalizedEventType(t){return{appear:"show",mounted:"show",close:"hide"}[t]??t}convertToBebrLike(t){const e={};return Object.forEach(t.componentData,((t,n)=>{if(null==t)return;const i=n.camelize(!0);e[i]=t})),e}buildRawPath(t){return[this.getRawScreenName(t.screenName),...t.path].map((t=>t.underscore())).join(".")}buildPath(t){const e=[];return t.observable.initOptions.options.removeScreenNameFromPath||e.push(this.getScreenName(t.screenName)),e.push(...t.path),e.map((t=>this.getUnderscoredString(t))).join(".")}normalizeEntityName(t){return this.getUnderscoredString(t)}getRawScreenName(t){return null==t?"root":t.split("-").join("_")}getScreenName(t){const e=this.routePagesComponents[t];if(null==e)return"root";if(null!=this.pages[e])return this.getUnderscoredString(this.pages[e]);const n=e.split("-");return n.slice(1,n.length).join("_")}getUnderscoredString(t,e){return t.underscore(e)}getCamelizedString(t,e){return t.camelize(e)}convertCollectedToBebrLike(t){const e={...t.componentData,...t.vars};return this.normalizeVars(e)}normalizeVars(t){const e={};for(const[n,i]of Object.entries(t))if(null!=i){e[this.getCamelizedString(n,!0)]=i}return e}}function Gn(t){return encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`))}function Yn(t){const e=function(t){var e;return{...t.getData(),user_timestamp:null!==(e=t.getCompletedAt())&&void 0!==e?e:Date.now(),events:Gn(JSON.stringify(Jn(t.getEvents())))}}(t);let n="";for(let i=Object.keys(e),r=0;r<i.length;r++){const t=i[r],s=e[t];null!=s&&(n+=`/${t}=${s}`)}return n+="/*",n}function Jn(t){return t.map(Kn)}function Kn(t){return{...t.getData(),event_index:t.getIndex()}}class SendHandler{constructor(t,e,n){this.options=e,this.logger=n,this.timerEngine=t}async handleSend(t,e){try{this.options.shouldPerformNetworkRequests&&await Promise.race([fetch(this.options.url,{method:this.options.method,headers:{"Content-Type":this.options.contentType},credentials:"include",body:Yn(t),keepalive:null==e?void 0:e.keepAlive}),this.timerEngine.sleep(this.options.networkRequestTimeoutMilliseconds)])}catch(n){throw this.logger.log("error","SendHandler","handleSendError",n),n}}}class event_Event{constructor(t){!function(t){return t.hasOwnProperty("index")}(t)?(this.data=t,this.createdAtMilliseconds=(new Date).getTime(),this.attemptsCount=0,this.index=event_Event.eventIndex++):(this.data=t.data,this.createdAtMilliseconds=t.createdAt,this.attemptsCount=t.attemptsCount,this.index=t.index)}static isConstructibleFromObject(t){return t.hasOwnProperty("index")}static fromSerializableObject(t){if(event_Event.isConstructibleFromObject(t))return new event_Event({index:t.index,data:t.data,attemptsCount:t.attemptsCount,createdAt:t.createdAt});throw new Error("Cannot construct Event object from given serializable object")}toSerializableObject(){return{index:this.getIndex(),data:{...this.getData()},attemptsCount:this.getAttemptsCount(),createdAt:this.getCreatedAt()}}getType(){return this.data.event_type}getIndex(){return this.index}getCreatedAt(){return this.createdAtMilliseconds}getAttemptsCount(){return this.attemptsCount}getData(){return this.data}}event_Event.eventIndex=0;class Batch{constructor(t){!function(t){return t.hasOwnProperty("events")}(t)?(this.events=[],this.options=t):(this.events=t.events,this.options=t.options,this.completedAtMilliseconds=t.completedAt)}static isConstructibleFromObject(t){return t.hasOwnProperty("events")}static fromSerializableObject(t){if(Batch.isConstructibleFromObject(t))return new Batch({completedAt:t.completedAt,options:{getData:()=>({...t.data})},events:t.events.map((t=>event_Event.fromSerializableObject(t)))});throw new Error("Cannot construct Batch object from given serializable object")}toSerializableObject(){return{completedAt:this.getCompletedAt(),data:{...this.getData()},events:this.getEvents().map((t=>t.toSerializableObject())),options:{}}}getData(){return this.options.getData()}getEvents(){return this.events}getCompletedAt(){return this.completedAtMilliseconds}pushEvent(t){this.events.push(t)}tryComplete(){null==this.completedAtMilliseconds&&(this.completedAtMilliseconds=Date.now())}}const Qn="bebr.currentBatch",Zn="bebr.failedBatches",Xn="bebr.currentBatchHolder.interval",ti="bebr.retryHandler";class CurrentBatchHolder{constructor(t,e,n,i,r){this.options=i,this.isSendTimeoutSet=!1,this.batchStorage=n,this.sendHandler=t,this.timerEngine=e,this.logger=r,this.batch=this.createBatch(),this.trySend=this.trySend.bind(this),this.send=this.send.bind(this)}async init(){await this.tryRestoreCurrentBatch();const t=this.options.intervalMilliseconds;null!=t&&await this.timerEngine.setInterval(Xn,(()=>this.trySend(!0)),t)}async pushEvent(t){this.batch.pushEvent(t);const e=t.getData();this.logger.log("info","CurrentBatchHolder",`pushEvent:${e.path}:${e.event_type}`,{...e,event_index:t.getIndex()}),await this.trySend()}async destroy(){this.shouldSend(!0)&&await this.send({keepAlive:!0});null!=this.options.intervalMilliseconds&&await this.timerEngine.clearInterval(Xn)}createBatch(t){if(null!=t){const e=this.mergeEventArrays(t[0].getEvents(),t[1].getEvents());return new Batch({options:this.options.batchOptions,events:e})}return new Batch(this.options.batchOptions)}mergeEventArrays(t,e){const n=[];let i=0,r=0;for(;i<t.length&&r<e.length;){const s=t[i],o=e[r],a=s.getIndex(),u=o.getIndex();a<=u?(n.push(s),i++,a===u&&r++):(n.push(o),r++)}for(;i<t.length;)n.push(t[i++]);for(;r<e.length;)n.push(e[r++]);return n}async send(t){const{batch:e}=this;this.isSendTimeoutSet=!1,this.batch=this.createBatch(),await this.saveCurrentBatch();try{e.tryComplete(),await this.sendHandler.handleSend(e,t)}catch(n){await this.saveFailedBatch(e)}}shouldSend(t=!1){return t&&this.batch.getEvents().length>0||this.options.shouldSendBatch(this.batch)}async trySend(t=!1){if(this.shouldSend(t)){const t=this.options.preSendDelayMilliseconds;null!=t?this.isSendTimeoutSet||(this.isSendTimeoutSet=!0,await this.timerEngine.setTimeout("bebr.currentBatchHolder.delay",this.send,t)):await this.send()}else await this.saveCurrentBatch()}async saveCurrentBatch(){await this.batchStorage.set(Qn,[this.batch.toSerializableObject()])}async tryRestoreCurrentBatch(){var t;const e=await(null===(t=this.batchStorage.get(Qn))||void 0===t?void 0:t[0]);if(null!=e){const t=Batch.fromSerializableObject(e);this.batch=this.createBatch([t,this.batch]),await this.trySend()}}async saveFailedBatch(t){await this.batchStorage.append(Zn,t.toSerializableObject())}}class RetryHandler{constructor(t,e,n,i){this.options=i,this.storage=n,this.sendHandler=t,this.timerEngine=e,this.handleRetry=this.handleRetry.bind(this)}async init(){await this.timerEngine.setInterval(ti,this.handleRetry,this.options.intervalMilliseconds),await this.handleRetry()}async destroy(){await this.timerEngine.clearInterval(ti)}async handleRetry(){const t=await this.storage.get(Zn);if(null==t)return;const e=[],n=[];for(let r=t.length-1;r>=0;--r){const n=t[r],i=Batch.fromSerializableObject(n);e.push(this.filterBatchForRetry(i))}await Promise.all(e.map((async t=>{try{await this.tryRetry(t)}catch(e){n.push(t)}}))),n.sort(((t,e)=>{const n=t.getCompletedAt(),i=e.getCompletedAt();return n===i?0:n>i?1:-1}));const i=n.map((t=>t.toSerializableObject()));await this.storage.set(Zn,i)}async tryRetry(t){t.getEvents().length>0&&await this.sendHandler.handleSend(t)}filterBatchForRetry(t){const e=[],n=t.getEvents();for(let i=n.length-1;i>=0;--i){const t=n[i];this.shouldEventBeRetried(t)&&e.push(new event_Event({data:t.getData(),createdAt:t.getCreatedAt(),index:t.getIndex(),attemptsCount:t.getAttemptsCount()+1}))}return e.reverse(),new Batch({options:{getData:()=>t.getData()},events:e})}shouldEventBeRetried(t){return this.options.shouldEventBeRetried(t)}}var ei=n(14744),ni=n.n(ei);const ii={shouldSendBatch:function(t){return t.getEvents().length>=3}};const ri={shouldEventBeRetried:function(t){return t.getAttemptsCount()<10}};const si={batch:ii,send:{contentType:"application/x-www-form-urlencoded; charset=UTF-8",method:"POST",networkRequestTimeoutMilliseconds:1e4},retry:ri,engines:{logger:new class ConsoleLogger{log(t,e,n,i){console[t](`${e}:${n}`,(new Date).toISOString(),i)}},storage:new class DictionaryStorage{constructor(){this.storage=Object.create(null)}get(t){return this.storage[t]}set(t,e){this.storage[t]=e}append(t,e){const n=this.storage[t];this.storage[t]=null!=n?[...n,e]:[e]}},timerEngine:new class GlobalFunctionsTimerEngine{constructor(){this.timeouts={},this.intervals={}}init(){return Promise.resolve()}destroy(){return Promise.resolve()}setTimeout(t,e,n){this.timeouts[t]=[n,globalThis.setTimeout(e,n)]}clearTimeout(t){var e;globalThis.clearTimeout(null===(e=this.timeouts[t])||void 0===e?void 0:e[1]),delete this.timeouts[t]}getTimeout(t){var e;return null===(e=this.timeouts[t])||void 0===e?void 0:e[0]}setInterval(t,e,n){this.intervals[t]=[n,globalThis.setInterval(e,n)]}clearInterval(t){var e;globalThis.clearInterval(null===(e=this.intervals[t])||void 0===e?void 0:e[1]),delete this.intervals[t]}getInterval(t){var e;return null===(e=this.intervals[t])||void 0===e?void 0:e[0]}sleep(t){return new Promise((e=>globalThis.setTimeout((()=>e()),t)))}}}};class Provider{constructor(t){this.options=function(t,e){return ni()(t,e,{isMergeableObject:t=>t.constructor===Object})}(si,t);const{engines:e}=this.options;this.logger=e.logger,this.sendHandler=new SendHandler(e.timerEngine,this.options.send,e.logger),this.currentBatchHolder=new CurrentBatchHolder(this.sendHandler,e.timerEngine,e.storage,this.options.batch,e.logger),this.retryHandler=new RetryHandler(this.sendHandler,e.timerEngine,e.storage,this.options.retry)}init(){(async()=>{await this.options.engines.timerEngine.init(),await this.retryHandler.init(),await this.currentBatchHolder.init()})().catch((t=>this.logger.log("error","Provider.init","initError",t)))}async send(t){const e=new event_Event(t);await this.currentBatchHolder.pushEvent(e)}destroy(){(async()=>{await this.currentBatchHolder.destroy(),await this.retryHandler.destroy(),await this.options.engines.timerEngine.destroy()})().catch((t=>this.logger.log("error","Provider.destroy","destroyError",t)))}}class Storage{constructor(){this.syncDrivers={}}get(t){return this.getOrCreateSyncDriver(t).get()}set(t,e){return this.getOrCreateSyncDriver(t).set(e)}append(t,e){return this.getOrCreateSyncDriver(t).update(e)}getOrCreateSyncDriver(t){return this.syncDrivers.hasOwnProperty(t)||(this.syncDrivers[t]=new ArrayStorageSyncDriver(t,Nn)),this.syncDrivers[t]}}class TimerEngine{constructor(){this.maxShortTimerDurationMilliseconds=3e4,this.timeouts={},this.intervals={},this.timersKey="bebr.timers",this.handleAlarm=this.handleAlarm.bind(this)}async init(){const t=await We(this.timersKey);null!=t&&(this.timeouts={...t.timeouts,...this.timeouts},this.intervals={...t.intervals,...this.intervals}),Ee.alarms.onAlarm.hasListener(this.handleAlarm)||Ee.alarms.onAlarm.addListener(this.handleAlarm)}async destroy(){await Ee.storage.local.remove(this.timersKey),Ee.alarms.onAlarm.removeListener(this.handleAlarm)}setTimeout(t,e,n){if(!(n<=this.maxShortTimerDurationMilliseconds))return this.setLongTimeout(t,e,n);this.setShortTimeout(t,e,n)}clearTimeout(t){if(this.timeouts.hasOwnProperty(t))return this.timeouts[t].isShort?void this.clearShortTimeout(t):this.clearLongTimeout(t)}setInterval(t,e,n){if(!(n<=this.maxShortTimerDurationMilliseconds))return this.setLongInterval(t,e,n);this.setShortInterval(t,e,n)}clearInterval(t){if(this.intervals.hasOwnProperty(t))return this.intervals[t].isShort?void this.clearShortInterval(t):this.clearLongInterval(t)}getTimeout(t){if(this.timeouts.hasOwnProperty(t))return this.timeouts[t].milliseconds}getInterval(t){if(this.intervals.hasOwnProperty(t))return this.intervals[t].milliseconds}sleep(t){return t>=this.maxShortTimerDurationMilliseconds?Promise.reject(`Service worker cannot sleep for more than ${t} ms.`):new Promise((e=>{setTimeout(e,t)}))}setShortTimeout(t,e,n){this.timeouts[t]={isShort:!0,milliseconds:n,id:setTimeout(e,n)}}async setLongTimeout(t,e,n){const i=this.convertMillisecondsToMinutes(n);this.timeouts[t]={isShort:!1,milliseconds:60*i*1e3,id:e},await this.setAlarm(t,e,i),await this.syncTimerData()}clearShortTimeout(t){var e;null!=(null===(e=this.timeouts[t])||void 0===e?void 0:e.id)&&(clearTimeout(this.timeouts[t].id),delete this.timeouts[t])}async clearLongTimeout(t){await this.clearAlarm(t),delete this.timeouts[t],await this.syncTimerData()}setShortInterval(t,e,n){this.intervals[t]={isShort:!0,milliseconds:n,id:setTimeout(e,n)}}async setLongInterval(t,e,n){const i=this.convertMillisecondsToMinutes(n);this.intervals[t]={isShort:!1,milliseconds:60*i*1e3,id:e},await this.setAlarm(t,e,i),await this.syncTimerData()}clearShortInterval(t){var e;null!=(null===(e=this.intervals[t])||void 0===e?void 0:e.id)&&(clearInterval(this.intervals[t].id),delete this.intervals[t])}async clearLongInterval(t){await this.clearAlarm(t),delete this.intervals[t],await this.syncTimerData()}async setAlarm(t,e,n){null!=await Ee.alarms.get(t)&&Ee.alarms.clear(t),Ee.alarms.create(t,{periodInMinutes:n})}async clearAlarm(t){await Ee.alarms.clear(t)}convertMillisecondsToMinutes(t){let e=t/6e4;return e=e<.75?.5:e<1?1:Math.ceil(e),e}async syncTimerData(){await Ee.storage.local.set({[this.timersKey]:{timeouts:this.timeouts,intervals:this.intervals}})}handleAlarm(t){const e=this.timeouts.hasOwnProperty(t.name),n=this.intervals.hasOwnProperty(t.name);if(!n&&!e)return;e&&Ee.alarms.clear(t.name);(0,(n?this.intervals:this.timeouts)[t.name].id)()}}class BebrSender{constructor(t){this.sendRepeatMaxAge=864e5,this.sendRepeatMaxAgePerEvent={install:7*this.sendRepeatMaxAge},this.sendRepeatDelay=6e4,this.sendRepeatLimit=1/0,this.lastPingSendKey="bebr.lastPing",this.lastPingSend=0;this.options=Object.freeze({dtype:"bebr",sendURL:"https://clck.yandex.ru/counter",sendMethod:"POST",...t}),this.provider=new Provider({batch:{batchOptions:{getData:this.getBatchData.bind(this)},shouldSendBatch:this.shouldSendBatch.bind(this)},send:{url:this.options.sendURL,method:"POST",shouldPerformNetworkRequests:this.shouldSend},retry:{intervalMilliseconds:this.sendRepeatDelay,shouldEventBeRetried:this.shouldEventBeRetried.bind(this)},engines:{storage:new Storage,timerEngine:new TimerEngine}})}get shouldSend(){return!0}init(){this.provider.init(),this.setUserInfo(),We(this.lastPingSendKey).then((t=>{this.lastPingSend=Math.max(this.lastPingSend,t??0)}))}cleanup(){this.provider.destroy()}send(t){const e=t.path?`${this.options.basePath}.${t.path}`:this.options.basePath,n={...t,path:e,user_timestamp:Date.now()};delete n.block_id,delete n.parent_id,this.lastPingSend=Date.now(),Ee.storage.local.set({[this.lastPingSendKey]:this.lastPingSend}),this.provider.send(n)}setUserInfo(){var t;this.userInfo={initialYandexUUID:void 0,encodedUA:(t=navigator.userAgent,encodeURIComponent(t).replace(/[!'()*]/g,(t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`)))}}getBatchData(){return{edadealUID:"",dtype:this.options.dtype,pid:this.options.pid,session_id:this.options.sessionId,user_agent:this.userInfo.encodedUA,initial_yandexuid:this.userInfo.initialYandexUUID,puid:void 0,yandexuid:void 0,test_buckets:""}}getEventMaxAge(t){return this.sendRepeatMaxAgePerEvent[t.getType()]??this.sendRepeatMaxAge}shouldSendBatch(t){return t.getEvents().length>0}shouldEventBeRetried(t){return!(t.getAttemptsCount()>=this.sendRepeatLimit)&&(!("ping"===t.getType()&&t.getCreatedAt()<this.lastPingSend)&&this.getEventMaxAge(t)>=Date.now()-t.getCreatedAt())}}class Bebr extends BaseBebr{constructor(t){super({sender:new BebrSender({pid:906,basePath:"eddl_extension",sessionId:`${Math.floor(1e10*Math.random())}_${Date.now()}`}),pages:{},routePagesComponents:{},...t}),this.varsWithConstantNames=["referrer"]}async init(){await this.sender.init()}async cleanup(){await this.sender.cleanup()}sendEvent(t,e){super.sendEvent(t,e)}getScreenName(){return"background"}buildRawPath(t){return[this.getRawScreenName(t.screenName),...t.path].map((t=>qn()(t).underscore())).join(".")}getUnderscoredString(t){return qn()(t).underscore().s}convertToBebrLike(t){const e={};for(const[n,i]of Object.entries(t.componentData??{})){if(null==i)continue;e[n.camelize(!0)]=i}return e}getCamelizedString(t,e){let n=qn()(t).camelize().s;return e&&n.length>0&&(n=n[0].toUpperCase()+n.slice(1)),n}normalizeVars(t){const e={},n={...t};for(const i of this.varsWithConstantNames)n.hasOwnProperty(i)&&(e[i]=n[i],delete n[i]);return{...super.normalizeVars(n),...e}}}const oi=new class AnalyticsProvider{constructor(t){this.engines=t}init(){this.engines.map((t=>{var e;return null===(e=t.init)||void 0===e?void 0:e.call(t)}))}sendEvent(t,e){(async function(){return{vars:{ExtensionUUID:await Vn(),ExtensionVersion:"1.17.0"}}})().then((n=>{const i={...e,providerData:n};this.engines.map((e=>e.sendEvent(t,i)))}))}cleanup(){this.engines.map((t=>{var e;return null===(e=t.cleanup)||void 0===e?void 0:e.call(t)}))}}([new class BebrEngine{constructor(){this.bebr=new Bebr}async init(){await this.bebr.init()}sendEvent(t,e){return this.bebr.sendEvent(t,function(t){const e={...t};return e.vars={...t.providerData.vars,...t.vars},delete e.providerData,e}(e))}cleanup(){return this.bebr.cleanup()}}]);function ai(){(function(){if(di)return new Promise((t=>t(!1)));return Ee.storage.local.get(ui).then((({[ui]:t})=>{if(null==t)return!0;return t<(new Date).setHours(0,0,0,0)}))})().then((t=>{t&&(di=!0,oi.sendEvent("ping",{path:[]}),Ee.storage.local.set({[ui]:Date.now()}).finally((()=>{di=!1})))}))}const ui="extensionSWLastPing";let ci,li,di=!1;async function hi(t,e){if(null!=ci)return await fi(),hi(t,e);ci=async function*(t,e){const n=-1===t[0]?1/0:t[0];yield*pi(e,n,-1===t[0]?t[1]:void 0);const i=t.length,r=Math.floor(i/2);if(i>2||i%2==1)for(let s=1;s<=r;s++){const n=t[2*s-1],i=t[2*s];mi(),yield Tn(n,li),yield*pi(e,i)}}(t,e);try{for await(const t of ci);}catch{await fi()}ci=null}async function fi(){null==li||li.abort(),await(null==ci?void 0:ci.return(null))}async function*pi(t,e,n){for(let i=1;i<=e;i++)yield*gi(t),null!=n&&(yield Tn(n))}async function*gi(t){if(Me&&!Te)await async function(t){const e=`${n(39576)}?v=${Date.now()}`;await Ne(t,e)}(t),mi(),yield Tn(Wn,li);else for(let e=0;e<Rn;e++){const n=await Dn(`animation/${e}.png`);await Ne(t,n),yield Tn(Fn)}}function mi(){li={abort:()=>{}}}async function vi(t){const{tabId:e,isNewDomain:n}=t;Le("",e);const i=await async function(t){const e=await Je();return null==e?0:function(t,e){const n=e.split(".").reverse();let i=t,r=0;for(const s of n){if(i=i.trie[s]??i.trie["*"],null==i)break;r=i.offersCount??r}return r}(e,t)}(t.domain);let r=await async function(t,e){if(0===t)return"no-offers";if(await async function(t){return null!=(await Qe())[t]}(e.domain))return"cb-activated";return e.isNewDomain?"animation":"has-offers"}(i,t);if("animation"!==r&&"has-offers"!==r||(Le(String(i),e),function(t){t<=0||oi.sendEvent("appear",{vars:{offersCount:t},path:["icon"]})}(i)),"animation"!==r){if("cb-activated"===r){Le(String.fromCharCode(10003),e),function(t,e){Ee[Be].setBadgeBackgroundColor({color:t,tabId:e})}("#00B341",e),function(t,e){"setBadgeTextColor"in Ee[Be]?Ee[Be].setBadgeTextColor({color:t,tabId:e}):Promise.resolve()}("#fff",e),r="has-offers"}n&&await fi(),async function(t,e){const n=await Promise.all([Dn(`${t}/16.png`),Dn(`${t}/24.png`),Dn(`${t}/32.png`),Dn(`${t}/48.png`),Dn(`${t}/128.png`)]);Ne(e,{16:n[0],24:n[1],32:n[2],48:n[3],128:n[4]})}(r,e)}else{hi(await He("iconAnimation").then((t=>t??Un)),e)}}async function bi(t){const{uuid:e,domain:n}=t;await Ze(e,n,!0),oe([vn().map((()=>"navigation")),Rt((t=>{const e=e=>t(e),n=e=>t(e),i=e=>t(e);return Ee.tabs.onUpdated.addListener(e),Ee.tabs.onRemoved.addListener(n),Ee.tabs.onReplaced.addListener(i),()=>{Ee.tabs.onUpdated.removeListener(e),Ee.tabs.onRemoved.removeListener(n),Ee.tabs.onReplaced.removeListener(i)}})).map((()=>"tab"))]).debounce(200).flatMap((()=>Se(Fe({url:`*://${n}/*`})))).takeWhile((t=>0!==t.length)).onEnd((async()=>{await Pi(t,!0)}))}const wi=new DictionaryStorageSyncDriver("cbPendingActivations",Ln),yi=new DictionaryStorageSyncDriver("cbFinishedActivations",Ln);async function Si(t){await bi(t),await wi.pop(t.uuid),await yi.update([t.uuid,t])}function _i(t){null!=t&&kn(t).onValue(Si)}async function Oi(t){const{uuid:e,domain:n}=t;await Ze(e,n,!1),await yi.pop(e)}async function Pi(t,e=!1){if(null==t)return;if(e)return Oi(t);const{domain:n}=t;0===(await Fe({url:`*://${n}/*`})).length?await Oi(t):await bi(t)}var Mi=n(53834);const Ei=[{name:"web_push",value:"vygoda",op:"replace"}];function xi(t){return{id:t,tags:Ei,userAgent:navigator.userAgent}}function Ai(t){const e={diff:t};return!1!==t.subscription&&(e.sync=!0),e}function Di(t,e){const n=async i=>{if(i.name===t){try{await e()}catch(r){return}Ee.alarms.onAlarm.removeListener(n),await Ii(t)}};Ee.alarms.onAlarm.addListener(n)}async function Ti(t){const e=[1,5,10],n=e.map((t=>{const e=.1*t;return[t-e,t+e]}));let i=0;const r=await Ee.alarms.get(t);if(null!=(null==r?void 0:r.periodInMinutes)){const t=r.periodInMinutes,s=n.findIndex((e=>t<=e[1]&&t>=e[0]));-1!==s&&s!==e.length-1&&(i=s+1)}const s=n[i];!async function(t,e){const n=await Ee.alarms.get(t);if(null!=n&&n.periodInMinutes===e)return;Ee.alarms.create(t,{periodInMinutes:e})}(t,Math.random()*(s[1]-s[0])+s[0])}async function Ii(t){await Ee.alarms.clear(t)}async function ji(t,e){const n=await Re().then((t=>{var e;return 0===(null==t||null===(e=t.url)||void 0===e?void 0:e.length)||null==t?void 0:t.url}));oi.sendEvent(t,{vars:{...e,source:"sup",referrer:n},path:["notification"]})}function Ci(t,e,n={}){e.waitUntil(ji(t,{pushId:e.notification.data.pushId,pushType:e.notification.data.statId,title:e.notification.title,...n}))}async function ki(){const t=`${wn}/config`,e=await _n(t);if(!e.ok)throw new Error(`Bad response status: ${e.status}`);if(204===e.status)return;const n=await e.json();return null!=n?n.yandexuid:void 0}class ShowNotificationStrategy{async show(t,e){if((0,Mi.isPersonalPush)(t))return!1;const{title:n,body:i,dir:r,icon:s,image:o,renotify:a,requireInteraction:u,tag:c,badge:l,timestamp:d,vibrate:h}=t.notification,f=(0,Mi.getNotificationData)(t);if(null!=c){const t=await self.registration.getNotifications({tag:c});if(t.length>0){const e=new CustomEvent("pushReplace",{detail:t[0]});self.dispatchEvent(e)}}return await self.registration.showNotification(n,{actions:f.actions?(0,Mi.prepareActions)(f.actions):void 0,badge:l,body:i,data:f,dir:r,icon:s,image:o,renotify:a,requireInteraction:u,tag:c,timestamp:d,vibrate:h}),await Promise.all([(0,Mi.runTagJob)(f,e,{pushWithTagShowTimeout:0}),(0,Mi.runTTLJob)(f,e)]),!0}}const Bi="subscribeAlarm",Ni="unsubscribeAlarm";async function Li(){const t=await ki();if(null==t)return;const e=await(0,Mi.withLock)(Mi.subscribe)(xi(t));Object.keys(e).length>0&&oi.sendEvent("subscription",{vars:Ai(e),path:["notification"]})}async function Ri(){const t=await ki();null!=t&&(await(0,Mi.withLock)(Mi.unsubscribe)(xi(t)),oi.sendEvent("subscription",{vars:{id:t,unsubscribe:!0},path:["notification"]}))}function Fi(t){const e=new UnicodeURL(t);return`${e.origin}${e.pathname}`}function Ui(t){const e=new UnicodeURL(t);return{hostEquals:e.hostname,pathEquals:e.pathname}}function Wi(t){let e=xn(t);return null!=e&&e.startsWith("www.")&&(e=e.slice(4)),{notificationDomain:e}}class UrlNotificationSender{constructor(t,e,n){this.config=null,this.notificationsStore={},this.lastNotificationTimestampStore=0,this.notificationTimeoutStore={},this.urlByTabIdStore={},this.notificationAnalyticsParams={pushType:"vigoda.trigger.cart",source:"client"},this.inTabUpdate={},this.setNormalizedConfig(e),this.notificationSendFilter=n,this.lastNotificationTimestampDriver=new SimpleStorageSyncDriver(`${t}.sender.timestamp`,Nn),this.handleTabUpdate=this.handleTabUpdate.bind(this),this.handleTabRemoval=this.handleTabRemoval.bind(this),this.handleNavigationCommitted=this.handleNavigationCommitted.bind(this),this.handleNotificationClick=this.handleNotificationClick.bind(this),this.handleNotificationClose=this.handleNotificationClose.bind(this)}init(){this.initState(),Ee.notifications.onClicked.addListener(this.handleNotificationClick),Ee.notifications.onClosed.addListener(this.handleNotificationClose),Ee.tabs.onUpdated.addListener(this.handleTabUpdate),Ee.tabs.onRemoved.addListener(this.handleTabRemoval),null!=this.config&&Object.keys(this.config.urlNotifications).length>0&&Ee.webNavigation.onCommitted.addListener(this.handleNavigationCommitted,{url:Object.keys(this.config.urlNotifications).map(Ui)})}cleanup(){Ee.notifications.onClicked.removeListener(this.handleNotificationClick),Ee.notifications.onClosed.removeListener(this.handleNotificationClose),Ee.tabs.onUpdated.removeListener(this.handleTabUpdate),Ee.tabs.onRemoved.removeListener(this.handleTabRemoval),Ee.webNavigation.onCommitted.removeListener(this.handleNavigationCommitted)}setConfig(t){null!=this.config&&Ee.webNavigation.onCommitted.removeListener(this.handleNavigationCommitted),this.setNormalizedConfig(t),null!=t&&Object.keys(t.urlNotifications).length>0&&Ee.webNavigation.onCommitted.addListener(this.handleNavigationCommitted,{url:Object.keys(t.urlNotifications).map(Ui)})}setNormalizedConfig(t){var e;null!=t&&null!=t.urlNotifications?this.config={...t,urlNotifications:Object.fromEntries((e=Object.entries(t.urlNotifications),e.map((t=>[Fi(t[0]),t[1]]))))}:this.config=null}async initState(){const t=await this.lastNotificationTimestampDriver.get();null!=t&&(this.lastNotificationTimestampStore=t)}sendNotificationAnalyticsEvent(t,e,n){oi.sendEvent(t,{vars:{...this.notificationAnalyticsParams,pushId:e.notificationId,title:e.title,referrer:e.url,...n},path:["notification"]})}sendNotification(t,e){this.lastNotificationTimestampStore=(new Date).getTime(),this.lastNotificationTimestampDriver.set(this.lastNotificationTimestampStore);const n=zn(),i={...t,notificationId:n,title:e.title};this.notificationsStore[n]=i,Ee.notifications.create(n,e,(t=>{Ee.runtime.lastError?this.sendNotificationAnalyticsEvent("dismiss",i,{reason:"manual_block"}):this.handleNotificationShow(t)})),this.sendNotificationAnalyticsEvent("send",i)}async scheduleNotification(t,e){if(null==this.config)return;const{tabId:n,url:i}=t;clearTimeout(this.notificationTimeoutStore[n]);let r=this.config.defaultNotification;"object"==typeof this.config.urlNotifications[n]&&(r=this.config.urlNotifications[n]);const s=await this.processNotificationConfig(r,i);this.notificationTimeoutStore[n]=setTimeout((()=>this.sendNotification(t,s)),e??this.config.sendDelayMilliseconds)}async processNotificationConfig(t,e){const n=function(t,e,n){const i={...Wi(e),...n},r={...t};return Object.entries(t).forEach((([t,e])=>{let n=!1;e=e.replaceAll(/{{(\w+?)}}/g,((t,e)=>null!=i[e]?i[e]:(n=!0,t))),n||(r[t]=e)})),r}({title:t.title,message:t.message},e,t.params);return function(t){return t={...t},je&&Ce&&(t.message=`${t.title}\n${t.message}`),Ie&&delete t.requireInteraction,t}({iconUrl:await Dn("animation/0.png"),type:"basic",...t,...n})}async shouldSendNotification(t){return!(await hn()||null==this.config||!this.notificationSendFilter(t))&&(new Date).getTime()-this.lastNotificationTimestampStore>=60*this.config.minSendIntervalMinutes*1e3}async trySendNotification(t){await this.shouldSendNotification(t)&&await this.scheduleNotification(t)}handleNavigationCommitted(t){delete this.urlByTabIdStore[t.tabId]}async handleTabUpdate(t,e){const{status:n}=e;if(null==this.config||this.inTabUpdate[t]||"complete"!==n)return;let i;this.inTabUpdate[t]=!0;try{i=(await Ee.tabs.get(t)).url}catch(s){}if(null==i)return void(this.inTabUpdate[t]=!1);const r=Fi(i);this.urlByTabIdStore[t]!==r&&delete this.urlByTabIdStore[t],this.config.urlNotifications.hasOwnProperty(r)&&null==this.notificationTimeoutStore[t]&&this.urlByTabIdStore[t]!==r&&(this.urlByTabIdStore[t]=r,this.trySendNotification({tabId:t,url:i})),this.inTabUpdate[t]=!1}handleTabRemoval(t){delete this.urlByTabIdStore[t],delete this.inTabUpdate[t]}handleNotificationShow(t){var e;if(null==this.notificationsStore[t])return;const n=(null===(e=this.config)||void 0===e?void 0:e.hideDelayMilliseconds)??0;n>0&&setTimeout((()=>{Ee.notifications.clear(t),this.handleNotificationClose(t,!1,!0)}),n)}async handleNotificationClick(t){const e=this.notificationsStore[t];if(null==e)return;const{tabId:n,url:i}=e;delete this.notificationsStore[t],Ee.notifications.clear(t);try{const t=await Ee.tabs.get(n);t.url===i?(await Ee.windows.update(t.windowId,{focused:!0}),Ee.tabs.highlight({windowId:t.windowId,tabs:t.index})):Ee.tabs.create({url:i})}catch(r){Ee.tabs.create({url:i})}this.sendNotificationAnalyticsEvent("click",e),delete this.notificationTimeoutStore[e.tabId]}handleNotificationClose(t,e=!1,n=!1){const i=this.notificationsStore[t];if(null==i)return;delete this.notificationsStore[t];let r="unknown";Ie?n&&(r="system"):r=e?"manual":"system",this.sendNotificationAnalyticsEvent("dismiss",i,{reason:r}),delete this.notificationTimeoutStore[i.tabId]}}class DomainSessionLinkState{constructor(){this.domainsStore={},this.tabsStore={}}addLink(t){const{tabId:e,domain:n}=t;this.domainsStore.hasOwnProperty(n)||(this.domainsStore[n]=new Set),this.domainsStore[n].add(e),this.tabsStore[e]=n}removeLink(t){const{tabId:e,domain:n}=t;this.domainsStore.hasOwnProperty(n)&&(this.domainsStore[n].delete(e),0===this.domainsStore[n].size&&delete this.domainsStore[n],delete this.tabsStore[e])}removeAllLinks(t){if(this.domainsStore.hasOwnProperty(t)){for(const e of this.domainsStore[t])delete this.tabsStore[e];delete this.domainsStore[t]}}getDomainByTab(t){return this.tabsStore[t]}getTabsByDomain(t){return this.domainsStore[t]}}class DomainSessionState{constructor(t,e){this.store={},this.initializer=e,this.storageSyncDriver=new DictionaryStorageSyncDriver(t,Ln)}async init(){const t=await this.storageSyncDriver.get();this.store=null==t?{}:t}startSession(t){this.store[t]="function"==typeof this.initializer?this.initializer(t):{...this.initializer},this.storageSyncDriver.update([t,this.store[t]])}getSession(t){return this.store[t]}updateSession(t,e){return!!this.store.hasOwnProperty(t)&&(this.store[t]={...this.store[t],...e},this.storageSyncDriver.update([t,this.store[t]]),!0)}endSession(t){delete this.store[t],this.storageSyncDriver.pop(t)}}class DomainSessionTracker{constructor(t,e,n){this.domains=new Set(e),this.linkState=new DomainSessionLinkState,this.sessionState=new DomainSessionState(`${t}.tracker.sessions`,n),this.handleNewTabUrl=this.handleNewTabUrl.bind(this),this.handleTabChange=this.handleTabChange.bind(this),this.handleTabClose=this.handleTabClose.bind(this)}init(){this.sessionState.init().then((()=>{const t=[...this.domains];this.handleAlreadyExistingTabs(t),Ee.tabs.onUpdated.addListener(this.handleTabChange),Ee.tabs.onRemoved.addListener(this.handleTabClose)}))}cleanup(){Ee.tabs.onRemoved.removeListener(this.handleTabClose),Ee.tabs.onUpdated.removeListener(this.handleTabChange)}getActiveSession(t){return this.sessionState.getSession(t)}updateActiveSession(t,e){return this.sessionState.updateSession(t,e)}addDomain(t,e=!0){e&&this.handleAlreadyExistingTabs([t]),this.domains.add(t)}removeDomain(t){this.domains.delete(t),this.linkState.removeAllLinks(t),this.sessionState.endSession(t)}setDomains(t){const e=new Set(t);for(const n of this.domains)e.has(n)||this.removeDomain(n);for(const n of e)this.domains.has(n)||this.addDomain(n,!1);this.handleAlreadyExistingTabs(t)}constructLink(t){const e=!this.getActiveSession(t.domain);this.linkState.addLink(t),e&&this.sessionState.startSession(t.domain)}destructLink(t){this.linkState.removeLink(t);!this.linkState.getTabsByDomain(t.domain)&&this.sessionState.endSession(t.domain)}async handleAlreadyExistingTabs(t){if(0===t.length)return;const e=await Fe({url:t.map((t=>`*://${t}/*`))});for(const n of e)null!=n.id&&null!=n.url&&this.handleNewTabUrl({tabId:n.id,url:n.url})}handleNewTabUrl(t){const{tabId:e,url:n}=t,i=xn(n),r=this.linkState.getDomainByTab(e);i!==r&&(null!=i&&this.domains.has(i)&&this.constructLink({tabId:e,domain:i}),null!=r&&this.destructLink({tabId:e,domain:r}))}handleTabChange(t,e){const{url:n}=e;null!=n&&this.handleNewTabUrl({tabId:t,url:n})}handleTabClose(t){const e=this.linkState.getDomainByTab(t);null!=e&&this.destructLink({tabId:t,domain:e})}}const zi=new class ClientNotificationsManager{constructor(){this.urlNotificationsKey="urlNotifications",this.sender=new UrlNotificationSender(this.urlNotificationsKey,null,this.checkIfHasNotOpenedPopupOnDomain.bind(this)),this.tracker=new DomainSessionTracker(this.urlNotificationsKey,[],{hasOpenedPopup:!1}),this.handleConfigSet=this.handleConfigSet.bind(this),this.handlePopupOpenMessage=this.handlePopupOpenMessage.bind(this)}init(){this.sender.init(),this.tracker.init(),this.handleConfigSet(),this.unsubscribeFromConfigSaveEvent=In.onValue(this.handleConfigSet),Ee.runtime.onMessage.addListener(this.handlePopupOpenMessage)}cleanup(){var t;Ee.runtime.onMessage.removeListener(this.handlePopupOpenMessage),null===(t=this.unsubscribeFromConfigSaveEvent)||void 0===t||t.call(this),this.tracker.cleanup(),this.sender.cleanup()}checkIfHasNotOpenedPopupOnDomain({url:t}){const e=xn(t);if(null==e)return!1;const n=this.tracker.getActiveSession(e);return null==n||!n.hasOpenedPopup}async handleConfigSet(){const t=await async function(t){var e;const n=await Ve();return null==n||null===(e=n.arbitrary)||void 0===e?void 0:e[t]}(this.urlNotificationsKey);this.sender.setConfig(t??null);let e=[];null!=t&&(e=function(t){const e=new Set;for(const n of t){const t=xn(n);null!=t&&e.add(t)}return[...e]}(Object.keys(t.urlNotifications))),this.tracker.setDomains(e)}handlePopupOpenMessage(t){if("PopupOpen"!==t.type)return;const{url:e}=t.data,n=xn(e);null!=n&&this.tracker.updateActiveSession(n,{hasOpenedPopup:!0})}};const $i="extensionSWPing";oi.init(),async function(){Ee.runtime.onInstalled.addListener((({reason:t})=>{"install"===t&&oi.sendEvent("install",{path:[]})})),await pn,ai(),Ee.alarms.onAlarm.addListener((t=>{t.name===$i&&ai()})),Ee.alarms.create($i,{periodInMinutes:60})}(),async function(){Me||await pn;const t=oe([mn.map(Mn).flatMap(Se),gn.flatMap((()=>Se(Re()))).map(En),vn()]).debounce(200).skipUntil(gn).filter((({tabId:t})=>function(t){return"number"==typeof t&&t>=0}(t))).flatScan(null,Pn).filter((t=>Boolean(null==t?void 0:t.isTabActive)&&Boolean(null==t?void 0:t.url)));t.onError((t=>{console.error(t)})),t.skipErrors().onValue((t=>{null!=t&&function(t){if(""!==t.domain)try{vi(t)}catch(e){console.error(e)}}(t)}))}(),async function(){const t=await wi.get(),e=await yi.get();t&&Object.values(t).forEach(_i),e&&Object.values(e).forEach((t=>Pi(t)))}(),fn.filter((t=>"CbActivationStart"===t.message.type)).flatMapLatest((t=>{if("CbActivationStart"!==t.message.type)throw new Error("Invalid message type");const e=t.message.data;!async function(t){wi.update([t.uuid,t])}(e);const n=kn(e);return Ee.runtime.sendMessage({type:"CbActivationStartAccepted"}),n})).onValue(Si),zi.init(),async function(){const t="extensionConfigPeriodicUpdateAlarm";Ee.alarms.onAlarm.addListener((e=>{e.name===t&&jn()})),await pn;const e=await Ee.alarms.get(t);null!=e&&1440===e.periodInMinutes||(jn(),Ee.alarms.create(t,{periodInMinutes:1440}))}(),async function(){const t="extensionOffersMapPeriodicUpdateAlarm";Ee.alarms.onAlarm.addListener((e=>{e.name===t&&Cn()}));const e=await Ee.alarms.get(t);null!=e&&60===e.periodInMinutes||(Cn(!1),Ee.alarms.create(t,{periodInMinutes:60}))}(),Ee.runtime.onInstalled.addListener((({reason:t})=>{"install"===t&&Ee.tabs.create({url:"https://vygoda.yandex.ru/?utm_source=vygoda_extension&utm_campaign=installation"})})),function(){if(Te||Ie)return;In.onValue((async()=>{const[t,e]=await Promise.all([qe("webPushesEnabled"),hn()]);if(t&&!e)Ii(Ni),async function(){try{await Li()}catch{await Ti(Bi)}}();else{Ii(Bi);await(0,Mi.isSubscribed)()&&async function(){try{await Ri()}catch{await Ti(Ni)}}()}})),Di(Bi,Li),Di(Ni,Ri),Mi.Subscriber.setApiUrl(`${wn}/push`).setWebDomain("push.vygoda.yandex.ru").setSyncAlways(!1);const t=new Mi.MessageHandler(Mi.defaultMessageHandlers),e=new Mi.PushHandler(new ShowNotificationStrategy,new Mi.DefaultPushValidator),n=new Mi.SubscriptionHandler({defaultTags:Ei}),i=new Mi.NotificationHandler;t.register(),e.register(),n.register(),i.register(),self.addEventListener("push",(t=>{t.waitUntil((async()=>{if(null!=t.data){const e=await(new Mi.DefaultPushValidator).validate(t.data.json());null==e||(0,Mi.isPersonalPush)(e)||await ji("send",{pushId:e.data.push_id,pushType:e.data.stat_id,title:e.notification.title})}})())})),self.addEventListener("notificationclick",(t=>{Ci("click",t)})),self.addEventListener("notificationclose",(t=>{Ci("dismiss",t,{reason:"manual"})})),self.addEventListener("pushReplace",(t=>{const e=t.detail;ji("dismiss",{pushId:e.data.pushId,pushType:e.data.statId,title:e.title,reason:"replaced_by_tag"})}))}()},3489:(t,e,n)=>{var i={"./animation/0.png":61531,"./animation/1.png":24325,"./animation/10.png":75016,"./animation/11.png":23409,"./animation/12.png":47162,"./animation/13.png":36995,"./animation/14.png":87596,"./animation/15.png":99221,"./animation/16.png":78846,"./animation/17.png":54631,"./animation/18.png":10400,"./animation/19.png":34601,"./animation/2.png":77673,"./animation/20.png":1357,"./animation/21.png":47460,"./animation/22.png":84319,"./animation/23.png":71030,"./animation/24.png":11113,"./animation/25.png":32992,"./animation/26.png":11323,"./animation/27.png":96498,"./animation/28.png":67349,"./animation/29.png":15084,"./animation/3.png":99552,"./animation/30.png":93474,"./animation/31.png":83979,"./animation/32.png":70160,"./animation/33.png":76409,"./animation/34.png":73990,"./animation/35.png":39183,"./animation/36.png":34068,"./animation/37.png":55197,"./animation/38.png":44426,"./animation/39.png":59987,"./animation/4.png":56908,"./animation/40.png":48847,"./animation/41.png":83654,"./animation/42.png":64861,"./animation/43.png":43732,"./animation/44.png":93643,"./animation/45.png":3138,"./animation/46.png":86073,"./animation/47.png":79824,"./animation/48.png":96183,"./animation/49.png":96686,"./animation/5.png":37590,"./animation/50.png":16068,"./animation/51.png":72365,"./animation/52.png":90742,"./animation/53.png":70719,"./animation/54.png":19392,"./animation/55.png":90569,"./animation/56.png":99858,"./animation/57.png":97723,"./animation/58.png":59916,"./animation/59.png":29013,"./animation/6.png":51565,"./animation/60.png":61369,"./animation/61.png":64464,"./animation/62.png":17963,"./animation/63.png":96834,"./animation/64.png":93181,"./animation/65.png":72052,"./animation/66.png":7311,"./animation/67.png":68294,"./animation/68.png":8097,"./animation/69.png":39832,"./animation/7.png":97668,"./animation/8.png":57891,"./animation/9.png":93786,"./has-offers/128.png":11512,"./has-offers/16.png":30254,"./has-offers/24.png":90649,"./has-offers/32.png":23968,"./has-offers/48.png":94215,"./no-offers/128.png":19701,"./no-offers/16.png":92653,"./no-offers/24.png":50734,"./no-offers/32.png":89351,"./no-offers/48.png":39428};function r(t){return Promise.resolve().then((()=>{if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n(i[t])}))}r.keys=()=>Object.keys(i),r.id=3489,t.exports=r},7319:(t,e,n)=>{var i={"./animation/0.png":61531,"./animation/1.png":24325,"./animation/10.png":75016,"./animation/11.png":23409,"./animation/12.png":47162,"./animation/13.png":36995,"./animation/14.png":87596,"./animation/15.png":99221,"./animation/16.png":78846,"./animation/17.png":54631,"./animation/18.png":10400,"./animation/19.png":34601,"./animation/2.png":77673,"./animation/20.png":1357,"./animation/21.png":47460,"./animation/22.png":84319,"./animation/23.png":71030,"./animation/24.png":11113,"./animation/25.png":32992,"./animation/26.png":11323,"./animation/27.png":96498,"./animation/28.png":67349,"./animation/29.png":15084,"./animation/3.png":99552,"./animation/30.png":93474,"./animation/31.png":83979,"./animation/32.png":70160,"./animation/33.png":76409,"./animation/34.png":73990,"./animation/35.png":39183,"./animation/36.png":34068,"./animation/37.png":55197,"./animation/38.png":44426,"./animation/39.png":59987,"./animation/4.png":56908,"./animation/40.png":48847,"./animation/41.png":83654,"./animation/42.png":64861,"./animation/43.png":43732,"./animation/44.png":93643,"./animation/45.png":3138,"./animation/46.png":86073,"./animation/47.png":79824,"./animation/48.png":96183,"./animation/49.png":96686,"./animation/5.png":37590,"./animation/50.png":16068,"./animation/51.png":72365,"./animation/52.png":90742,"./animation/53.png":70719,"./animation/54.png":19392,"./animation/55.png":90569,"./animation/56.png":99858,"./animation/57.png":97723,"./animation/58.png":59916,"./animation/59.png":29013,"./animation/6.png":51565,"./animation/60.png":61369,"./animation/61.png":64464,"./animation/62.png":17963,"./animation/63.png":96834,"./animation/64.png":93181,"./animation/65.png":72052,"./animation/66.png":7311,"./animation/67.png":68294,"./animation/68.png":8097,"./animation/69.png":39832,"./animation/7.png":97668,"./animation/8.png":57891,"./animation/9.png":93786,"./has-offers/128.png":11512,"./has-offers/16.png":30254,"./has-offers/24.png":90649,"./has-offers/32.png":23968,"./has-offers/48.png":94215,"./no-offers/128.png":19701,"./no-offers/16.png":92653,"./no-offers/24.png":50734,"./no-offers/32.png":89351,"./no-offers/48.png":39428,"assets/ext-icons/animation/0.png":61531,"assets/ext-icons/animation/1.png":24325,"assets/ext-icons/animation/10.png":75016,"assets/ext-icons/animation/11.png":23409,"assets/ext-icons/animation/12.png":47162,"assets/ext-icons/animation/13.png":36995,"assets/ext-icons/animation/14.png":87596,"assets/ext-icons/animation/15.png":99221,"assets/ext-icons/animation/16.png":78846,"assets/ext-icons/animation/17.png":54631,"assets/ext-icons/animation/18.png":10400,"assets/ext-icons/animation/19.png":34601,"assets/ext-icons/animation/2.png":77673,"assets/ext-icons/animation/20.png":1357,"assets/ext-icons/animation/21.png":47460,"assets/ext-icons/animation/22.png":84319,"assets/ext-icons/animation/23.png":71030,"assets/ext-icons/animation/24.png":11113,"assets/ext-icons/animation/25.png":32992,"assets/ext-icons/animation/26.png":11323,"assets/ext-icons/animation/27.png":96498,"assets/ext-icons/animation/28.png":67349,"assets/ext-icons/animation/29.png":15084,"assets/ext-icons/animation/3.png":99552,"assets/ext-icons/animation/30.png":93474,"assets/ext-icons/animation/31.png":83979,"assets/ext-icons/animation/32.png":70160,"assets/ext-icons/animation/33.png":76409,"assets/ext-icons/animation/34.png":73990,"assets/ext-icons/animation/35.png":39183,"assets/ext-icons/animation/36.png":34068,"assets/ext-icons/animation/37.png":55197,"assets/ext-icons/animation/38.png":44426,"assets/ext-icons/animation/39.png":59987,"assets/ext-icons/animation/4.png":56908,"assets/ext-icons/animation/40.png":48847,"assets/ext-icons/animation/41.png":83654,"assets/ext-icons/animation/42.png":64861,"assets/ext-icons/animation/43.png":43732,"assets/ext-icons/animation/44.png":93643,"assets/ext-icons/animation/45.png":3138,"assets/ext-icons/animation/46.png":86073,"assets/ext-icons/animation/47.png":79824,"assets/ext-icons/animation/48.png":96183,"assets/ext-icons/animation/49.png":96686,"assets/ext-icons/animation/5.png":37590,"assets/ext-icons/animation/50.png":16068,"assets/ext-icons/animation/51.png":72365,"assets/ext-icons/animation/52.png":90742,"assets/ext-icons/animation/53.png":70719,"assets/ext-icons/animation/54.png":19392,"assets/ext-icons/animation/55.png":90569,"assets/ext-icons/animation/56.png":99858,"assets/ext-icons/animation/57.png":97723,"assets/ext-icons/animation/58.png":59916,"assets/ext-icons/animation/59.png":29013,"assets/ext-icons/animation/6.png":51565,"assets/ext-icons/animation/60.png":61369,"assets/ext-icons/animation/61.png":64464,"assets/ext-icons/animation/62.png":17963,"assets/ext-icons/animation/63.png":96834,"assets/ext-icons/animation/64.png":93181,"assets/ext-icons/animation/65.png":72052,"assets/ext-icons/animation/66.png":7311,"assets/ext-icons/animation/67.png":68294,"assets/ext-icons/animation/68.png":8097,"assets/ext-icons/animation/69.png":39832,"assets/ext-icons/animation/7.png":97668,"assets/ext-icons/animation/8.png":57891,"assets/ext-icons/animation/9.png":93786,"assets/ext-icons/has-offers/128.png":11512,"assets/ext-icons/has-offers/16.png":30254,"assets/ext-icons/has-offers/24.png":90649,"assets/ext-icons/has-offers/32.png":23968,"assets/ext-icons/has-offers/48.png":94215,"assets/ext-icons/no-offers/128.png":19701,"assets/ext-icons/no-offers/16.png":92653,"assets/ext-icons/no-offers/24.png":50734,"assets/ext-icons/no-offers/32.png":89351,"assets/ext-icons/no-offers/48.png":39428};function r(t){var e=s(t);return n(e)}function s(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}r.keys=function(){return Object.keys(i)},r.resolve=s,t.exports=r,r.id=7319}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var s=e[i]={exports:{}};return t[i].call(s.exports,s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.e=()=>Promise.resolve(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.p="",n(8215)})();